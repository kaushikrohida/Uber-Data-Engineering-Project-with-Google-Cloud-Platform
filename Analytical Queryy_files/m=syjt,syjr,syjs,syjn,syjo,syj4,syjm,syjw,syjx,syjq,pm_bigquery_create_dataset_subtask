"use strict";this.default_r_tvffkgi=this.default_r_tvffkgi||{};(function(_){var window=this;
try{
var BFf,CFf,DFf,EFf;_.ZT=function(a){const b=_.cj(a);a=_.bj(a);return{id:b,resourceType:a}};_.wFf=function(a){return"type"in a&&a.type==="resourceWithLocation"};_.xFf=function(a){return"type"in a&&a.type==="targetResourceDetails"};_.$T=function(a){return _.xFf(a)?a.resourceToCheckPermissions:_.wFf(a)?a.resource:a};_.yFf=function(a){return _.xFf(a)?a.resourceForAttachingTags.displayName:_.wFf(a)?a.resource.getDisplayName():a.getDisplayName()};
_.zFf=function(a){return _.xFf(a)?a.resourceForAttachingTags.fullResourcePath:_.wFf(a)?a.resource.getFullResourcePath():a.getFullResourcePath()};_.AFf=function(a){return _.zFf(a)===_.$T(a).getFullResourcePath()?_.$T(a).getResourceType():null};BFf=function(a){a&1&&(_.H(0,"cfc-help-button",7),_.O(1,0),_.K())};CFf=function(a){a&1&&(_.H(0,"cfc-help-button",8),_.O(1,1),_.K())};
DFf=function(a){a&1&&(_.M(0)(1,4),_.F(2,BFf,2,0,"cfc-help-button",5)(3,CFf,2,0,"cfc-help-button",6),_.N()());a&2&&(a=_.Q(2),_.A(),_.G("ngSwitch",a.tagKeyParent.resourceType),_.A(),_.G("ngSwitchCase",a.IamResourceType.ORGANIZATIONS),_.A(),_.G("ngSwitchCase",a.IamResourceType.PROJECTS))};EFf=function(a,b){a&1&&(_.M(0)(1),_.S(2),_.N(),_.F(3,DFf,4,3,"ng-container",3),_.N());a&2&&(a=b.ngIf,b=_.Q(),_.A(2),_.U("\u00a0",a.display,""),_.A(),_.G("ngIf",b.showInaccessibleTooltip&&a.type===b.TagKeyParentDisplayResultType.KEY_PARENT_INACCESSIBLE))};
_.FFf=function(a,b){return a.orgMap$.pipe(_.y(c=>c.get(b)?{type:0,organization:c.get(b)}:{type:1}))};
_.GFf=class{constructor(a,b,c){this.iamPermissionsService=a;this.orgNamespaceService=b;this.projectService=c;this.orgMap$=_.Nff(this.orgNamespaceService).pipe(_.af({refCount:!0,bufferSize:1}))}getProject(a){const b=new _.dj(a,0);return this.iamPermissionsService.preFetchPermissions(["resourcemanager.projects.get"],[b]).pipe(_.y(()=>this.iamPermissionsService.can("resourcemanager.projects.get",b)),_.E(c=>c?this.projectService.getProject(a).pipe(_.y(d=>({type:0,project:d})),_.Be(d=>{d.errorExperience=
6;return _.x({type:2,error:d})})):_.x({type:1})))}};_.GFf.\u0275fac=function(a){return new (a||_.GFf)(_.l(_.Ms),_.l(_.fT),_.l(_.Mq))};_.GFf.\u0275prov=_.k({token:_.GFf,factory:_.GFf.\u0275fac,providedIn:"root"});var HFf={DISPLAY_NAME_FOUND:0,DISPLAY_NAME_NOT_FOUND:1,KEY_PARENT_INACCESSIBLE:2,ERROR_RETRIEVING_KEY_PARENT:3,0:"DISPLAY_NAME_FOUND",1:"DISPLAY_NAME_NOT_FOUND",2:"KEY_PARENT_INACCESSIBLE",3:"ERROR_RETRIEVING_KEY_PARENT"},aU=class{constructor(a){this.scopeService=a}transform(a){switch(a.resourceType){case 2:return _.FFf(this.scopeService,a.id).pipe(_.y(b=>{const c=b.type;switch(c){case 0:return{type:0,display:b.organization.name};case 1:return{type:2,display:a.id};default:_.Ta(c,"invalid get organization result type")}}));
case 0:return this.scopeService.getProject(a.id).pipe(_.y(b=>{const c=b.type;switch(c){case 0:return b.project.getDisplayName()?{type:0,display:b.project.getDisplayName()}:{type:1,display:a.id};case 1:return{type:2,display:a.id};case 2:return{type:3,display:a.id};default:_.Ta(c,"invalid get project result type")}}));default:_.Ta(a.resourceType,"invalid tag key parent resource type")}}},MFf;aU.\u0275fac=function(a){return new (a||aU)(_.B(_.GFf,16))};
aU.\u0275pipe=_.Ae({name:"tagKeyParentDisplayResult",type:aU,pure:!0,standalone:!1});aU.\u0275prov=_.k({token:aU,factory:aU.\u0275fac,providedIn:"root"});_.bU=class{constructor(a){this.tagKeyParentDisplayResultPipe=a}transform(a){return this.tagKeyParentDisplayResultPipe.transform(a).pipe(_.y(b=>b.display))}};_.bU.\u0275fac=function(a){return new (a||_.bU)(_.B(aU,16))};_.bU.\u0275pipe=_.Ae({name:"tagKeyParentDisplay",type:_.bU,pure:!0,standalone:!1});
_.bU.\u0275prov=_.k({token:_.bU,factory:_.bU.\u0275fac,providedIn:"root"});_.IFf=class{transform(a,b){return!b||!(a.id===b.id&&a.resourceType===b.resourceType)}};_.IFf.\u0275fac=function(a){return new (a||_.IFf)};_.IFf.\u0275pipe=_.Ae({name:"exposeTagKeyParent",type:_.IFf,pure:!0,standalone:!1});_.JFf=class{transform(a){return _.Wd(()=>a.valueChanges.pipe(_.df(a.value))).pipe(_.y(b=>b==null?void 0:b.description))}};_.JFf.\u0275fac=function(a){return new (a||_.JFf)};
_.JFf.\u0275pipe=_.Ae({name:"tagControlDescription",type:_.JFf,pure:!0,standalone:!1});_.KFf=class{constructor(a,b){this.exposeTagKeyParentPipe=a;this.tagControlDescriptionPipe=b}transform(a,b){return _.Sd([a.tagKeyParent$,this.tagControlDescriptionPipe.transform(a)]).pipe(_.y(([c,d])=>(c=this.exposeTagKeyParentPipe.transform(c,b)?c:void 0)||d?{description:d,tagKeyParent:c}:void 0))}};_.KFf.\u0275fac=function(a){return new (a||_.KFf)(_.B(_.IFf,16),_.B(_.JFf,16))};
_.KFf.\u0275pipe=_.Ae({name:"tagKeyAdditionalInfo",type:_.KFf,pure:!0,standalone:!1});_.LFf=class{transform(a,b){return b==null?void 0:b(a)}};_.LFf.\u0275fac=function(a){return new (a||_.LFf)};_.LFf.\u0275pipe=_.Ae({name:"tagOptionDisabledReason",type:_.LFf,pure:!0,standalone:!1});MFf=[_.IFf,_.LFf,_.JFf,_.KFf,_.bU,aU];_.cU=class{};_.cU.\u0275fac=function(a){return new (a||_.cU)};_.cU.\u0275mod=_.ye({type:_.cU});_.cU.\u0275inj=_.Dc({providers:MFf});var NFf;_.dU=class{transform(a){return a==null?void 0:a.replace(/ /g,"\u00a0")}};_.dU.\u0275fac=function(a){return new (a||_.dU)};_.dU.\u0275pipe=_.Ae({name:"toNonBreakingSpaces",type:_.dU,pure:!0,standalone:!1});NFf=[_.dU];_.eU=class{};_.eU.\u0275fac=function(a){return new (a||_.eU)};_.eU.\u0275mod=_.ye({type:_.eU});_.eU.\u0275inj=_.Dc({providers:NFf});var RFf;_.OFf=class{transform(a){return a.map(_.$T)}};_.OFf.\u0275fac=function(a){return new (a||_.OFf)};_.OFf.\u0275pipe=_.Ae({name:"resourcesToCheckPermissions",type:_.OFf,pure:!0,standalone:!1});_.PFf=class{transform(a){return _.AFf(a)}};_.PFf.\u0275fac=function(a){return new (a||_.PFf)};_.PFf.\u0275pipe=_.Ae({name:"iamResourceType",type:_.PFf,pure:!0,standalone:!1});_.QFf=class{transform(a){return _.yFf(a)}};_.QFf.\u0275fac=function(a){return new (a||_.QFf)};
_.QFf.\u0275pipe=_.Ae({name:"tagResourceDisplayName",type:_.QFf,pure:!0,standalone:!1});RFf=[_.QFf,_.PFf,_.OFf];_.SFf=class{};_.SFf.\u0275fac=function(a){return new (a||_.SFf)};_.SFf.\u0275mod=_.ye({type:_.SFf});_.SFf.\u0275inj=_.Dc({providers:RFf});_.TFf=class{transform(a){switch(_.AFf(a)){case 0:case 43:case 2:return _.$T(a);default:return null}}};_.TFf.\u0275fac=function(a){return new (a||_.TFf)};_.TFf.\u0275pipe=_.Ae({name:"crmIamCompatible",type:_.TFf,pure:!0,standalone:!1});var UFf=[_.TFf],VFf=class{};VFf.\u0275fac=function(a){return new (a||VFf)};VFf.\u0275mod=_.ye({type:VFf});VFf.\u0275inj=_.Dc({providers:UFf});var WFf=class{};WFf.\u0275fac=function(a){return new (a||WFf)};WFf.\u0275mod=_.ye({type:WFf});WFf.\u0275inj=_.Dc({imports:[_.YT,_.Jm,_.Xw,VFf]});_.fU=class{constructor(){this.showInaccessibleTooltip=!1;this.TagKeyParentDisplayResultType=HFf;this.IamResourceType=_.dLb}ngOnInit(){}};_.fU.\u0275fac=function(a){return new (a||_.fU)};
_.fU.\u0275cmp=_.D({type:_.fU,selectors:[["tag-key-parent-display"]],inputs:{tagKeyParent:"tagKeyParent",showInaccessibleTooltip:"showInaccessibleTooltip"},standalone:!1,decls:4,vars:6,consts:()=>[" You do not have permission to view the organization name. "," You do not have permission to view the project name. ",[3,"resourceType"],[4,"ngIf"],[3,"ngSwitch"],["class","cfc-button-small","ariaLabel","Help with the tag organization","dialogAriaLabel","More info about the tag organization",4,"ngSwitchCase"],
["class","cfc-button-small","ariaLabel","Help with the tag project","dialogAriaLabel","More info about the tag project",4,"ngSwitchCase"],["ariaLabel","Help with the tag organization","dialogAriaLabel","More info about the tag organization",1,"cfc-button-small"],["ariaLabel","Help with the tag project","dialogAriaLabel","More info about the tag project",1,"cfc-button-small"]],template:function(a,b){a&1&&(_.L(0,"cfc-resource-icon",2),_.F(1,EFf,4,2,"ng-container",3),_.V(2,"tagKeyParentDisplayResult"),
_.V(3,"async"));a&2&&(_.G("resourceType",b.tagKeyParent.resourceType),_.A(),_.G("ngIf",_.W(3,4,_.W(2,2,b.tagKeyParent))))},dependencies:[_.Am,_.Bm,_.Cm,_.uw,_.XB,_.Fm,aU],encapsulation:2});_.gU=class{};_.gU.\u0275fac=function(a){return new (a||_.gU)};_.gU.\u0275mod=_.ye({type:_.gU});_.gU.\u0275inj=_.Dc({imports:[_.js,_.WB,_.Jm,_.eU,_.vw,VFf,WFf,_.YB,_.cU,_.SFf]});
}catch(e){_._DumpException(e)}
try{
var XFf,ZFf;_.YFf=function(a){a=XFf(a);return!a||Object.keys(a).length<1?null:a};XFf=function(a,b){var c=Object,d=c.assign,e=a.errors;b=!e||Object.keys(e).length<1?{}:b?{[b]:Object.assign({},a.errors)}:Object.assign({},a.errors);return d.call(c,b,a.controls?ZFf(a):{})};ZFf=function(a){return Object.keys(a.controls).map(b=>XFf(a.controls[b],b)).reduce((b,c)=>Object.assign(b,c),{})};
}catch(e){_._DumpException(e)}
try{
var aGf,hGf,iGf,kGf,lGf,mGf,nGf,oGf,pGf,qGf,sGf,tGf,uGf,vGf,wGf,xGf,yGf,zGf,AGf,BGf,CGf,DGf,EGf,MGf,NGf,OGf,PGf,QGf,RGf,SGf,UGf,WGf,YGf,ZGf,$Gf,aHf,bHf,dHf,eHf,fHf,gHf,hHf,iHf,lHf,mHf,nHf,oHf,pHf,rHf,sHf,tHf,uHf,vHf,xHf,yHf,zHf,AHf,CHf,DHf,EHf,FHf,GHf,HHf,JHf,KHf,LHf,MHf,OHf,RHf,SHf,UHf,VHf,WHf,XHf,YHf,ZHf,$Hf,bIf,cIf,PHf,dIf,eIf,fIf,gIf,hIf,iIf,jIf,kIf,lIf,mIf,nIf,oIf,pIf,qIf,rIf,sIf,tIf,uIf,vIf,wIf,xIf,yIf,zIf,BIf,CIf,EIf,FIf,GIf,HIf,JIf,LIf,MIf,NIf,PIf,QIf,RIf,WIf,XIf,YIf,ZIf,aJf,cJf,dJf,cGf;
_.$Ff=function(a){return a.length===0?!1:_.rgf.test(a)};aGf=function(a){return a.statusChanges.pipe(_.df(a.status),_.fe(b=>b!=="PENDING"),_.y(()=>_.YFf(a)),_.Le(1))};_.dGf=function(a){switch(a.tagFormGroupType){case 0:return _.bGf(a);case 1:return a.get("valueId");case 2:return cGf(a);default:_.Ta(a.tagFormGroupType,"Invalid tag form group type")}};_.gGf=function(a){if(a instanceof _.eGf){let b;return(b=a.value)==null?void 0:b.name}if(!(a instanceof _.fGf))return a.value?`tagValues/${a.value}`:void 0};
hGf=function(a){if(a instanceof _.eGf){var b;return(b=a.value)==null?void 0:b.namespacedName}if(a instanceof _.fGf){b=a.tagParent;const c=a.tagKeyShortName;a=a.value;a=b&&c&&a?{shortName:a,namespacedName:`${b}/${c}/${a}`}:null;return a==null?void 0:a.namespacedName}};iGf=function(a){switch(a.tagFormGroupType){case 0:let b;return(b=_.hU(a).value)==null?void 0:b.namespacedName;case 1:break;case 2:let c;return(c=a.getTagKey())==null?void 0:c.namespacedName;default:_.Ta(a.tagFormGroupType,"Invalid tag form group type")}};
_.jGf=function(a){a:{switch(a.tagFormGroupType){case 0:var b;var c=(b=_.bGf(a).value)==null?void 0:b.shortName;break a;case 1:break;case 2:let d;c=(d=cGf(a).value)!=null?d:void 0;break a;default:_.Ta(a.tagFormGroupType,"Invalid tag form group type")}c=void 0}a:{switch(a.tagFormGroupType){case 0:b=_.hU(a).value;break a;case 1:b=null;break a;case 2:b=a.getTagKey();break a;default:_.Ta(a.tagFormGroupType,"Invalid tag form group type")}b=void 0}a:{switch(a.tagFormGroupType){case 0:a=_.hU(a).getTagKeyParent();
break a;case 1:case 2:break;default:_.Ta(a.tagFormGroupType,"Invalid tag form group type")}a=void 0}if(c&&b&&a)return{shortName:c,keyShortName:b.shortName,keyName:b.name,keyNamespacedName:b.namespacedName,keyParent:a}};
kGf=function(a){const b=[],c=[],d=new Map;for(const f of a)switch(a=f.tagFormGroupType,a){case 1:b.push(f);break;case 2:c.push(f);break;case 0:a=f;var e=_.hU(a).getTagKeyParent();e=_.Off(e);d.has(e)||d.set(e,[]);d.get(e).push(a);break;default:_.Ta(a,"Invalid tag form group type")}return{manualEntryGroups:b,namespacedManualEntryGroups:c,keyParentFormGroups:[...d.entries()].map(([f,g])=>({tagKeyParent:_.ZT(f),formGroups:g}))}};
lGf=function(a){a&1&&(_.H(0,"mat-option",5),_.S(1),_.V(2,"toNonBreakingSpaces"),_.K());a&2&&(a=_.Q(3),_.G("value",a.value),_.A(),_.U(" ",_.W(2,2,a.value.shortName)," "))};mGf=function(a){a&1&&(_.F(0,lGf,3,4,"mat-option",5),_.L(1,"mat-option"));a&2&&(a=_.Q(2),_.Lf(a.value?0:-1))};nGf=function(a){a&1&&(_.H(0,"mat-option",6),_.S(1),_.K());a&2&&(a=_.Q(5),_.G("ve",a.ve.TagDropdownEmptyMessage)("veImpression",!0)("disabled",!0),_.A(),_.U(" ",a.emptyStateText," "))};
oGf=function(a){a&1&&_.Qf(0,10);a&2&&(a=_.Q().ngVar,_.G("tagFormReason",a))};
pGf=function(a,b){a&1&&(_.H(0,"mat-option",7),_.F(1,oGf,1,1,"ng-template",null,2,_.Jg),_.L(3,"cfc-select-rich-option",9),_.V(4,"toNonBreakingSpaces"),_.K());if(a&2){let c;a=b.ngVar;b=_.Zf(2);const d=_.Q().$implicit,e=_.Q(6);_.G("cfcDisable",d.name!==(e.value==null?null:e.value.name)&&a!==void 0)("ve",e.ve.TagDropdownOption)("veClick",!0)("cfcDisableTooltip",b)("cfcDisableTooltipRich",!0)("cfcDisableTooltipPosition",e.disabledTooltipPosition)("value",d);_.A(3);_.G("primary",(c=_.W(4,9,d.shortName))!==
null&&c!==void 0?c:"")("secondary",d.description)}};qGf=function(a,b){a&1&&(_.F(0,pGf,5,11,"mat-option",8),_.V(1,"tagOptionDisabledReason"));a&2&&(a=b.$implicit,b=_.Q(6),_.G("ngVar",_.Dg(1,1,a,b.disabledOptionsMatcher)))};sGf=function(a){a&1&&_.Of(0,qGf,2,4,"mat-option",7,rGf);a&2&&(a=_.Q(2),_.Pf(a.values))};tGf=function(a){a&1&&_.F(0,nGf,2,4,"mat-option",6)(1,sGf,2,0);a&2&&(a=_.Q(),_.Lf(a.values.length===0?0:1))};
uGf=function(a){a&1&&(_.H(0,"mat-option",6),_.S(1),_.K());a&2&&(a=_.Q(4),_.G("ve",a.ve.TagDropdownLoadingMessage)("veImpression",!0)("disabled",!0),_.A(),_.U(" ",a.loadingText," "))};vGf=function(a){a&1&&(_.H(0,"mat-option",6),_.L(1,"cfc-icon",11),_.S(2),_.K());if(a&2){a=_.Q();const b=_.Q(3);_.G("ve",b.ve.TagDropdownLoadingFailedMessage)("veImpression",!0)("disabled",!0);_.A(2);_.U(" ",a.error.displayMessage," ")}};
wGf=function(a,b){a&1&&_.F(0,tGf,2,1)(1,uGf,2,4,"mat-option",6)(2,vGf,3,4,"mat-option",6);if(a&2){let c;a=_.Q(3);_.Lf((c=b.status)===a.OptionsStatus.LOADED?0:c===a.OptionsStatus.LOADING?1:c===a.OptionsStatus.FAILED?2:-1)}};xGf=function(a){a&1&&(_.F(0,wGf,3,1),_.V(1,"async"));if(a&2){let b;a=_.Q(2);_.Lf((b=_.W(1,1,a.optionsData$))?0:-1,b)}};
yGf=function(a,b){if(a&1){const c=_.p();_.H(0,"cfc-select",4,1);_.P("focus",function(){_.t(c);_.Q().focus.emit();return _.w(void 0)})("blur",function(){let d;var e=_.t(c),f=_.Q();(e=(d=e.dropdownState)!==null&&d!==void 0?d:void 0)&&e===1&&f.blur.emit();return _.w(void 0)})("onClosed",function(){_.t(c);const d=_.Q();return _.w(d.hideOptions())})("onOpen",function(){_.t(c);const d=_.Q();return _.w(d.displayOptions())})("valueChange",function(d){_.t(c);const e=_.Q();return _.w(e.updateValue(d))});_.F(2,
mGf,2,1,"mat-option")(3,xGf,2,3);_.K()}if(a&2){let c;a=_.Q();const d=_.Zf(3);_.G("formControl",a.getFormControl())("hasFilter",!0)("comparisonConfig",a.COMPARISON_CONFIG)("cfcDisable",!!a.disabledReason)("cfcDisableTooltip",d)("cfcDisableTooltipRich",!0)("cfcDisableTooltipPosition",a.disabledTooltipPosition)("ve",a.dropdownVe)("veClick",!0)("aria-label",a.ariaLabelText);_.A(2);_.Lf((c=b.dropdownState)===a.DropDownState.CLOSED?2:c===a.DropDownState.OPEN?3:-1)}};
zGf=function(a){a&1&&_.Qf(0,10);a&2&&(a=_.Q(),_.G("tagFormReason",a.disabledReason))};AGf=function(a,b){a&1&&(_.H(0,"mat-option",14),_.S(1),_.K());if(a&2){let c;a=b.$implicit;_.G("value",a);_.A();_.U(" ",(c=a.displayName)!==null&&c!==void 0?c:a.id," ")}};BGf=function(a){a&1&&(_.H(0,"cm-error",15),_.O(1,5),_.K())};CGf=function(a,b){return a.displayName&&b.displayName?a.displayName.localeCompare(b.displayName):a.displayName||b.displayName?a.displayName?1:-1:a.id.localeCompare(b.id)};
DGf=function(a){return a.map(b=>{let c;return(c=b.key)==null?void 0:c.parent}).map(b=>_.ZT(b)).filter(b=>b.resourceType===2).map(b=>_.cj(_.Off(b)))};EGf=function(a){a=_.DHa(a);return a===null||a==="0"?void 0:a};_.FGf=function(a){return[...(new Set(a.filter(b=>!!b).map(b=>b)))]};
MGf=function(a,b){return a?new _.GGf({metadata:{}},new _.HGf({tagKeyParent:a}),new _.eGf({tagValueDropdownDisabledReason:new _.IGf},{disabled:!0,value:void 0})):b?new _.JGf({metadata:{}},new _.hr(null),new _.KGf({}),new _.fGf({})):new _.LGf({metadata:{}},new _.hr(null))};
NGf=function(a){var b=new Map;for(const c of a){a=_.gGf(_.dGf(c));if(!a)continue;b.has(a)||b.set(a,{name:a,count:0});a=b.get(a);a.count++;let d;a.shortNameRepresentation=(d=a.shortNameRepresentation)!=null?d:_.jGf(c)}b=new Map([...b.values()].filter(c=>c.count>1).map(c=>[c.name,c]));return b.size===0?null:{duplicateTagValues:b}};OGf=function(a,b){if(a&&(a=a.duplicateTagValues)&&(b=_.gGf(b)))return a.get(b)};
PGf=function(a){var b=new Map;for(const c of a){a=hGf(_.dGf(c));if(!a)continue;b.has(a)||b.set(a,{namespacedName:a,count:0});a=b.get(a);a.count++;let d;a.shortNameRepresentation=(d=a.shortNameRepresentation)!=null?d:_.jGf(c)}b=new Map([...b.values()].filter(c=>c.count>1).map(c=>[c.namespacedName,c]));return b.size===0?null:{duplicateNamespacedTagValues:b}};QGf=function(a,b){if(a&&(a=a.duplicateNamespacedTagValues)&&(b=hGf(b)))return a.get(b)};
RGf=function(a){var b=new Map;for(const c of a)if(a=iGf(c))b.has(a)||b.set(a,{namespacedName:a,count:0}),b.get(a).count++;b=new Map([...b.values()].filter(c=>c.count>1).map(c=>[c.namespacedName,c]));return b.size===0?null:{duplicateNamespacedTagKeys:b}};SGf=function(a,b){if(a&&(a=a.duplicateNamespacedTagKeys)){if(b instanceof _.HGf){var c;b=(c=b.value)==null?void 0:c.namespacedName}else if(b instanceof _.KGf){let d;b=(d=b.getTagKey())==null?void 0:d.namespacedName}else b=void 0;if(c=b)return a.get(c)}};
UGf=function(a){if(a&1){const b=_.p();_.H(0,"cfc-menu-item",7);_.V(1,"isDropdownChangeDisabled");_.P("click",function(){_.t(b);const c=_.Q(2);return _.w(TGf(c,c.tagFormGroup))});_.K()}a&2&&(a=_.Q(2),_.G("ve",a.ve.TagsEditOptionsSwitchOrganizationMenuItem)("veClick",!0)("cfcDisable",_.W(1,4,a.tagFormGroup))("cfcDisableTooltip",a.MSG_SWITCH_ORGS_NOT_AVAILABLE))};
WGf=function(a){if(a&1){const b=_.p();_.H(0,"cfc-menu-section")(1,"cfc-menu-item",5);_.V(2,"isDropdownChangeDisabled");_.P("click",function(){_.t(b);const c=_.Q();return _.w(VGf(c,c.tagFormGroup))});_.K();_.F(3,UGf,2,6,"cfc-menu-item",6);_.K()}a&2&&(a=_.Q(),_.A(),_.G("ve",a.ve.TagsEditOptionsManualEntryMenuItem)("veClick",!0)("cfcDisable",_.W(2,5,a.tagFormGroup))("cfcDisableTooltip",a.MSG_MANUAL_ENTRY_NOT_AVAILABLE),_.A(2),_.G("ngIf",a.organizations.length>1))};
YGf=function(a){if(a&1){const b=_.p();_.H(0,"cfc-menu-section")(1,"cfc-menu-item",8);_.P("click",function(){_.t(b);const c=_.Q();return _.w(XGf(c,c.tagFormGroup))});_.K()()}a&2&&(a=_.Q(),_.A(),_.G("ve",a.ve.TagsEditOptionsSelectFromListMenuItem)("veClick",!0)("cfcDisable",a.organizations.length===0))};ZGf=function(a){a&1&&_.Qf(0,19);a&2&&(a=_.Q(2),_.G("tagFormReason",a.addDisabledReason))};
$Gf=function(a){a&1&&(_.H(0,"cfc-form-stack-description"),_.Qf(1,20),_.K());a&2&&(a=_.Q(2),_.A(),_.G("ngTemplateOutlet",a.formStackDescription.templateRef))};aHf=function(a){a&1&&(_.Qf(0,19),_.V(1,"tagGroupDeleteDisabledReason"));a&2&&(a=_.Q().$implicit,_.G("tagFormReason",_.W(1,1,a)))};bHf=function(a){a&1&&(_.H(0,"cm-error",30),_.O(1,5),_.K());a&2&&(a=_.Q(4),_.G("ve",a.ve.TagsEditParentInvalidInputError)("veImpression",!0))};
dHf=function(a){if(a&1){const b=_.p();_.H(0,"cfc-form-stack-input-wrapper")(1,"mat-form-field")(2,"mat-label");_.L(3,"cfc-form-stack-field-label",27);_.K();_.H(4,"input",28);_.P("blur",function(){_.t(b);_.Q(3).onTouched();return _.w(void 0)});_.K();_.F(5,bHf,2,2,"cm-error",29);_.K()()}a&2&&(_.A(5),_.G("cfcDebounceErrorFor",_.yg(1,cHf)))};eHf=function(a,b){a&1&&(_.H(0,"div"),_.L(1,"tag-key-parent-display",37),_.K());a&2&&(a=b.ngIf,_.A(),_.G("tagKeyParent",a))};
fHf=function(a){a&1&&(_.H(0,"span",38),_.S(1),_.K());a&2&&(a=_.Q().ngIf,_.A(),_.U(" ",a.description," "))};gHf=function(a,b){a&1&&(_.H(0,"mat-hint",33),_.F(1,eHf,2,1,"div",17)(2,fHf,2,1,"span",36),_.K());a&2&&(a=b.ngIf,_.A(),_.G("ngIf",a.tagKeyParent),_.A(),_.G("ngIf",a.description))};hHf=function(a,b){a&1&&(_.F(0,gHf,3,2,"mat-hint",35),_.V(1,"tagKeyAdditionalInfo"),_.V(2,"async"));if(a&2){let c;a=_.Q(4).ngIf;_.G("ngIf",_.W(2,4,_.Dg(1,1,b,(c=a.defaultTagKeyParent)!==null&&c!==void 0?c:void 0)))}};
iHf=function(a){a&1&&(_.H(0,"cm-error",30),_.O(1,6),_.K());a&2&&(a=_.Q(5),_.G("ve",a.ve.TagsEditKeyRequiredError)("veImpression",!0))};lHf=function(a){a&1&&(_.H(0,"cm-error",30),_.Qf(1,39),_.V(2,"tagGroupGetTagKeyControl"),_.K());if(a&2){a=_.Q(3).$implicit;const b=_.Q(2),c=_.Zf(5);_.G("ve",b.ve.TagsEditDuplicateKeyError)("veImpression",!0);_.A();_.G("ngTemplateOutlet",c)("ngTemplateOutletContext",_.zg(6,jHf,kHf(b,_.W(2,4,a))))}};
mHf=function(a){if(a&1){const b=_.p();_.H(0,"mat-form-field")(1,"mat-label");_.L(2,"cfc-form-stack-field-label",31);_.K();_.H(3,"tag-key-dropdown",32);_.V(4,"async");_.P("blur",function(){_.t(b);_.Q(4).onTouched();return _.w(void 0)});_.K();_.F(5,hHf,3,6,"mat-hint",33);_.V(6,"tagGroupGetTagKeyControl");_.F(7,iHf,2,2,"cm-error",29)(8,lHf,3,8,"cm-error",34);_.V(9,"tagGroupGetTagKeyControl");_.K()}if(a&2){let b,c;a=_.Q(2).$implicit;const d=_.Q(2);_.A(3);_.G("disabledOptionsMatcher",(b=_.W(4,6,d.keyDisabledOptionsMatcher$))!==
null&&b!==void 0?b:void 0)("optionsFilterPredicate",d.tagKeyOptionsFilterPredicate)("errorStateMatcher",d.tagKeyErrorMatcher);_.A(2);_.Lf((c=_.W(6,8,a))?5:-1,c);_.A(2);_.G("cfcDebounceErrorFor","required");_.A();_.G("cfcDebounceErrorIf",kHf(d,_.W(9,10,a))!==void 0)}};nHf=function(a){a&1&&(_.H(0,"mat-form-field")(1,"mat-label"),_.L(2,"cfc-form-stack-field-label",40),_.K(),_.L(3,"input",41),_.K());a&2&&(_.A(3),_.G("cfcDisable",!0))};
oHf=function(a){a&1&&(_.H(0,"cm-error",30),_.O(1,7),_.K());a&2&&(a=_.Q(5),_.G("ve",a.ve.TagsEditKeyInvalidInputError)("veImpression",!0))};pHf=function(a){a&1&&(_.H(0,"cm-error",30),_.Qf(1,39),_.V(2,"tagGroupGetTagKeyShortNameControl"),_.K());if(a&2){a=_.Q(3).$implicit;const b=_.Q(2),c=_.Zf(5);_.G("ve",b.ve.TagsEditDuplicateKeyError)("veImpression",!0);_.A();_.G("ngTemplateOutlet",c)("ngTemplateOutletContext",_.zg(6,jHf,kHf(b,_.W(2,4,a))))}};
rHf=function(a){if(a&1){const b=_.p();_.H(0,"mat-form-field")(1,"mat-label");_.L(2,"cfc-form-stack-field-label",42);_.K();_.H(3,"input",43);_.P("blur",function(){_.t(b);_.Q(4).onTouched();return _.w(void 0)});_.K();_.F(4,oHf,2,2,"cm-error",29)(5,pHf,3,8,"cm-error",34);_.V(6,"tagGroupGetTagKeyShortNameControl");_.K()}if(a&2){a=_.Q(2).$implicit;const b=_.Q(2);_.A(3);_.G("errorStateMatcher",b.tagKeyErrorMatcher);_.A();_.G("cfcDebounceErrorFor",_.yg(5,qHf));_.A();_.G("cfcDebounceErrorIf",kHf(b,_.W(6,
3,a))!==void 0)}};sHf=function(a){a&1&&(_.H(0,"cfc-form-stack-input-wrapper",23),_.F(1,mHf,10,12,"mat-form-field",24)(2,nHf,4,1,"mat-form-field",24)(3,rHf,7,6,"mat-form-field",24),_.K());if(a&2){a=_.Q().$implicit;const b=_.Q(2);_.G("ngSwitch",a.tagFormGroupType);_.A();_.G("ngSwitchCase",b.TagFormGroupType.DROPDOWN);_.A();_.G("ngSwitchCase",b.TagFormGroupType.MANUAL);_.A();_.G("ngSwitchCase",b.TagFormGroupType.MANUAL_NAMESPACED)}};
tHf=function(a,b){a&1&&(_.H(0,"mat-hint",33),_.S(1),_.K());a&2&&(a=b.ngIf,_.A(),_.U(" ",a," "))};uHf=function(a,b){a&1&&(_.F(0,tHf,2,1,"mat-hint",35),_.V(1,"tagControlDescription"),_.V(2,"async"));a&2&&_.G("ngIf",_.W(2,3,_.W(1,1,b)))};vHf=function(a){a&1&&(_.H(0,"cm-error",30),_.O(1,8),_.K());a&2&&(a=_.Q(4),_.G("ve",a.ve.TagsEditValueRequiredError)("veImpression",!0))};
xHf=function(a){a&1&&(_.H(0,"cm-error",30),_.Qf(1,39),_.V(2,"tagGroupGetTagValueControl"),_.K());if(a&2){a=_.Q(2).$implicit;const b=_.Q(2),c=_.Zf(3);_.G("ve",b.ve.TagsEditDuplicateValueError)("veImpression",!0);_.A();_.G("ngTemplateOutlet",c)("ngTemplateOutletContext",_.zg(6,jHf,wHf(b,_.W(2,4,a))))}};yHf=function(a,b){a&1&&_.Qf(0,39);a&2&&(a=_.Q(2).$implicit,_.G("ngTemplateOutlet",a.templateRef)("ngTemplateOutletContext",_.zg(2,jHf,b.getError(a.valueDropdownCustomErrorName))))};
zHf=function(a){a&1&&(_.H(0,"cm-error",30),_.F(1,yHf,1,4,"ng-container",39),_.V(2,"tagGroupGetTagValueControl"),_.K());if(a&2){let b;a=_.Q().$implicit;const c=_.Q(2).$implicit;_.G("ve",a.errorVeId)("veImpression",!0);_.A();_.Lf((b=_.W(2,3,c))?1:-1,b)}};AHf=function(a,b){a&1&&(_.M(0,47),_.F(1,zHf,3,5,"cm-error",29),_.N());a&2&&(a=b.$implicit,_.A(),_.G("cfcDebounceErrorFor",a.valueDropdownCustomErrorName))};
CHf=function(a){if(a&1){const b=_.p();_.H(0,"mat-form-field")(1,"mat-label");_.L(2,"cfc-form-stack-field-label",44);_.K();_.H(3,"tag-value-dropdown",45);_.P("blur",function(){_.t(b);_.Q(3).onTouched();return _.w(void 0)});_.K();_.F(4,uHf,3,5,"mat-hint",33);_.V(5,"tagGroupGetTagValueControl");_.F(6,vHf,2,2,"cm-error",29)(7,xHf,3,8,"cm-error",34);_.V(8,"tagGroupGetTagValueControl");_.F(9,AHf,2,1,"ng-container",46);_.K()}if(a&2){let b,c;a=_.Q().$implicit;const d=_.Q(2);_.A(3);_.G("errorStateMatcher",
d.tagValueErrorMatcher);_.A();_.Lf((b=_.W(5,5,a))?4:-1,b);_.A(2);_.G("cfcDebounceErrorFor","required");_.A();_.G("cfcDebounceErrorIf",wHf(d,_.W(8,7,a))!==void 0);_.A(2);_.G("ngForOf",(c=d.valueDropdownCustomErrors)!==null&&c!==void 0?c:_.yg(9,BHf))}};DHf=function(a){a&1&&(_.H(0,"cm-error",30),_.O(1,10),_.K());a&2&&(a=_.Q(4),_.G("ve",a.ve.TagsEditValuePositiveIntegerError)("veImpression",!0))};
EHf=function(a){a&1&&(_.H(0,"cm-error",30),_.Qf(1,39),_.V(2,"tagGroupGetManualEntryControl"),_.K());if(a&2){a=_.Q(2).$implicit;const b=_.Q(2),c=_.Zf(3);_.G("ve",b.ve.TagsEditDuplicateValueError)("veImpression",!0);_.A();_.G("ngTemplateOutlet",c)("ngTemplateOutletContext",_.zg(6,jHf,wHf(b,_.W(2,4,a))))}};FHf=function(a,b){a&1&&_.Qf(0,39);a&2&&(a=_.Q(2).$implicit,_.G("ngTemplateOutlet",a.templateRef)("ngTemplateOutletContext",_.zg(2,jHf,b.getError(a.valueManualEntryCustomErrorName))))};
GHf=function(a){a&1&&(_.H(0,"cm-error",30),_.F(1,FHf,1,4,"ng-container",39),_.V(2,"tagGroupGetManualEntryControl"),_.K());if(a&2){let b;a=_.Q().$implicit;const c=_.Q(2).$implicit;_.G("ve",a.errorVeId)("veImpression",!0);_.A();_.Lf((b=_.W(2,3,c))?1:-1,b)}};HHf=function(a,b){a&1&&(_.M(0,47),_.F(1,GHf,3,5,"cm-error",29),_.N());a&2&&(a=b.$implicit,_.A(),_.G("cfcDebounceErrorFor",a.valueManualEntryCustomErrorName))};
JHf=function(a){if(a&1){const b=_.p();_.H(0,"mat-form-field")(1,"mat-label");_.L(2,"cfc-form-stack-field-label",48);_.K();_.H(3,"input",49);_.P("blur",function(){_.t(b);_.Q(3).onTouched();return _.w(void 0)});_.K();_.F(4,DHf,2,2,"cm-error",29)(5,EHf,3,8,"cm-error",34);_.V(6,"tagGroupGetManualEntryControl");_.F(7,HHf,2,1,"ng-container",46);_.H(8,"span",50);_.O(9,9);_.K()()}if(a&2){let b;a=_.Q().$implicit;const c=_.Q(2);_.A(3);_.G("ve",c.ve.TagsEditManualEntryInput)("veInputText",!0)("errorStateMatcher",
c.tagValueErrorMatcher);_.A();_.G("cfcDebounceErrorFor",_.yg(8,IHf));_.A();_.G("cfcDebounceErrorIf",wHf(c,_.W(6,6,a))!==void 0);_.A(2);_.G("ngForOf",(b=c.valueManualEntryCustomErrors)!==null&&b!==void 0?b:_.yg(9,BHf))}};KHf=function(a){a&1&&(_.H(0,"cm-error",30),_.O(1,11),_.K());a&2&&(a=_.Q(4),_.G("ve",a.ve.TagsEditValueInvalidInputError)("veImpression",!0))};
LHf=function(a){a&1&&(_.H(0,"cm-error",30),_.Qf(1,39),_.V(2,"tagGroupGetTagValueShortNameControl"),_.K());if(a&2){a=_.Q(2).$implicit;const b=_.Q(2),c=_.Zf(3);_.G("ve",b.ve.TagsEditDuplicateValueError)("veImpression",!0);_.A();_.G("ngTemplateOutlet",c)("ngTemplateOutletContext",_.zg(6,jHf,wHf(b,_.W(2,4,a))))}};
MHf=function(a){if(a&1){const b=_.p();_.H(0,"mat-form-field")(1,"mat-label");_.L(2,"cfc-form-stack-field-label",51);_.K();_.H(3,"input",52);_.P("blur",function(){_.t(b);_.Q(3).onTouched();return _.w(void 0)});_.K();_.F(4,KHf,2,2,"cm-error",29)(5,LHf,3,8,"cm-error",34);_.V(6,"tagGroupGetTagValueShortNameControl");_.K()}if(a&2){a=_.Q().$implicit;const b=_.Q(2);_.A(3);_.G("errorStateMatcher",b.tagValueErrorMatcher);_.A();_.G("cfcDebounceErrorFor",_.yg(5,qHf));_.A();_.G("cfcDebounceErrorIf",wHf(b,_.W(6,
3,a))!==void 0)}};OHf=function(a,b){a&1&&(_.H(0,"cfc-form-stack-input-wrapper",53),_.Qf(1,39),_.K());if(a&2){a=b.$implicit;var c=_.Q();b=c.$implicit;c=c.index;_.G("disableResizing",a.tagsEditorFormStackInputDisableResizing);_.A();_.G("ngTemplateOutlet",a.templateRef)("ngTemplateOutletContext",_.Ag(3,NHf,c,b))}};
RHf=function(a){if(a&1){const b=_.p();_.H(0,"cfc-form-stack-input-wrapper",54)(1,"tags-editor-options",55);_.V(2,"async");_.P("manualEntryRequested",function(){_.t(b);const c=_.Q().index,d=_.Q(2),e=d.tagFormGroupCreator(void 0,d.manualInputFormat===1);PHf(e);d.formStackFormArray.setControl(c,e);d.changeDetectorRef.detectChanges();d.onTouched();return _.w(void 0)})("keyValueDropdownRequested",function(){let c;_.t(b);const d=_.Q().index,e=_.Q().ngIf,f=_.Q();return _.w(QHf(f,d,(c=e.defaultTagKeyParent)!==
null&&c!==void 0?c:void 0))});_.K()()}if(a&2){let b;a=_.Q().$implicit;const c=_.Q(2);_.G("disableResizing",!0);_.A();_.G("tagFormGroup",a)("organizations",(b=_.W(2,3,c.tagKeyOrganizationsInternal$))!==null&&b!==void 0?b:_.yg(5,BHf))}};
SHf=function(a,b){a&1&&(_.H(0,"cfc-form-stack-row",21),_.V(1,"tagGroupDeleteDisabledReason"),_.F(2,aHf,2,3,"ng-template",null,4,_.Jg)(4,dHf,6,2,"cfc-form-stack-input-wrapper",17)(5,sHf,4,4,"cfc-form-stack-input-wrapper",22),_.H(6,"cfc-form-stack-input-wrapper",23),_.F(7,CHf,10,10,"mat-form-field",24)(8,JHf,10,10,"mat-form-field",24)(9,MHf,7,6,"mat-form-field",24),_.K(),_.F(10,OHf,2,6,"cfc-form-stack-input-wrapper",25)(11,RHf,3,6,"cfc-form-stack-input-wrapper",26),_.K());if(a&2){let c;a=b.$implicit;
b=b.index;const d=_.Zf(3),e=_.Q(2);_.G("deleteButtonDisabled",!!_.W(1,11,a))("deleteDisabledTooltipMessage",d)("formGroupName",b);_.A(4);_.G("ngIf",a.tagFormGroupType===e.TagFormGroupType.MANUAL_NAMESPACED);_.A();_.G("ngIf",e.showKeyInput);_.A();_.G("ngSwitch",a.tagFormGroupType);_.A();_.G("ngSwitchCase",e.TagFormGroupType.DROPDOWN);_.A();_.G("ngSwitchCase",e.TagFormGroupType.MANUAL);_.A();_.G("ngSwitchCase",e.TagFormGroupType.MANUAL_NAMESPACED);_.A();_.G("ngForOf",(c=e.additionalFormStackInputs)!==
null&&c!==void 0?c:_.yg(13,BHf));_.A();_.G("ngIf",!e.hideEditorOptions)}};
UHf=function(a){if(a&1){const b=_.p();_.H(0,"form",15)(1,"cfc-form-stack",16,2);_.P("onRowAddition",function(){_.t(b);_.Q().onTouched();return _.w(void 0)})("onRowAdditionRequested",function(){let c;const d=_.t(b).ngIf,e=_.Q();return _.w(THf(e,(c=d.defaultTagKeyParent)!==null&&c!==void 0?c:void 0))})("onRowRemoval",function(){_.t(b);_.Q().onTouched();return _.w(void 0)});_.F(3,ZGf,1,1,"ng-template",null,3,_.Jg)(5,$Gf,2,1,"cfc-form-stack-description",17)(6,SHf,12,14,"cfc-form-stack-row",18);_.K()()}if(a&
2){a=_.Zf(4);const b=_.Q();_.G("formGroup",b.mainFormGroup);_.A();_.G("externalTitleId",b.externalTitleId)("ve",b.ve.TagsEditFormStack)("veImpression",!0)("addDisabled",!!b.addDisabledReason)("addDisabledTooltipMessage",a);_.A(4);_.G("ngIf",b.formStackDescription);_.A();_.G("ngForOf",b.formStackFormArray.controls)}};VHf=function(a,b){a&1&&(_.O(0,12),_.V(1,"duplicateValueName"));a&2&&(a=b.error,_.A(),_.Wf(_.W(1,1,a)),_.Xf(0))};WHf=function(a,b){a&1&&_.O(0,13);a&2&&(_.Wf(b.error.namespacedName),_.Xf(0))};
XHf=function(a){return a.map(b=>{if(b.key!==void 0&&b.value!==void 0){let c;return(c=b.key)==null?void 0:c.name}}).filter(_.Dj)};YHf=function(a){return a.map(b=>{if(b.key!==void 0&&b.value!==void 0){let c;return(c=b.key)==null?void 0:c.namespacedName}if(b.parent&&b.keyShortName&&b.valueShortName)return`${b.parent}/${b.keyShortName}`}).filter(_.Dj)};ZHf=function(a){const b=NGf(a.controls.map(c=>c));a=PGf(a.controls.map(c=>c));return Object.assign({},b,a)};
$Hf=function(a){return RGf(a.controls.map(b=>b))};bIf=function(){return a=>{const b=_.ogf.test(a.value),c=_.pgf.test(a.value),d=aIf.test(a.value);return b||c||d?null:{invalidParent:{value:a.value}}}};cIf=function(){return a=>a.value&&_.$Ff(a.value)?null:{invalidShortName:{value:a.value}}};
PHf=function(a){switch(a.tagFormGroupType){case 0:_.hU(a).addValidators(_.Zq);_.bGf(a).addValidators(_.Zq);_.hU(a).updateValueAndValidity();_.bGf(a).updateValueAndValidity();break;case 1:let b;(b=a.get("valueId"))==null||b.addValidators([_.Zq,_.nj("[1-9][0-9]{0,18}")]);a.updateValueAndValidity();break;case 2:let c;(c=a.get("parent"))==null||c.addValidators([_.Zq,bIf()]);let d;(d=a.get("keyShortName"))==null||d.addValidators([_.Zq,cIf()]);let e;(e=a.get("valueShortName"))==null||e.addValidators([_.Zq,
cIf()]);a.updateValueAndValidity();break;default:_.Ta(a.tagFormGroupType,"Invalid tag form group type")}};dIf=function(a){const b=a.getResourceType();switch(b){case 0:case 2:return{resourceType:b,id:a.getResourceId()}}};eIf=function(a){a&1&&(_.M(0),_.O(1,3),_.N())};fIf=function(a){a&1&&(_.M(0),_.O(1,4),_.N())};gIf=function(a){a&1&&_.Qf(0)};hIf=function(a){a&1&&_.Qf(0)};iIf=function(a){a&1&&(_.M(0),_.O(1,5),_.N())};jIf=function(a){a&1&&(_.M(0),_.O(1,6),_.N())};
kIf=function(a){a&1&&(_.M(0),_.O(1,7),_.N())};lIf=function(a){a&1&&(_.M(0),_.O(1,8),_.N())};mIf=function(a){a&1&&(_.M(0),_.O(1,9),_.N())};nIf=function(a){a&1&&(_.M(0),_.O(1,10),_.N())};oIf=function(a){a&1&&(_.H(0,"cm-error",30),_.F(1,mIf,2,0,"ng-container",15)(2,nIf,2,0,"ng-container",15),_.K());if(a&2){a=_.Q(2).ngIf;const b=_.Q();_.G("ngSwitch",a.resourceType);_.A();_.G("ngSwitchCase",b.ResourceType.ORGANIZATIONS);_.A();_.G("ngSwitchCase",b.ResourceType.PROJECTS)}};
pIf=function(a){a&1&&(_.M(0),_.O(1,11),_.N())};qIf=function(a){a&1&&(_.M(0),_.O(1,12),_.N())};rIf=function(a){a&1&&(_.H(0,"cm-error",30),_.F(1,pIf,2,0,"ng-container",15)(2,qIf,2,0,"ng-container",15),_.K());if(a&2){a=_.Q(2).ngIf;const b=_.Q();_.G("ngSwitch",a.resourceType);_.A();_.G("ngSwitchCase",b.ResourceType.ORGANIZATIONS);_.A();_.G("ngSwitchCase",b.ResourceType.PROJECTS)}};sIf=function(a){a&1&&(_.M(0),_.S(1,"organizations/"),_.N())};tIf=function(a){a&1&&(_.M(0),_.S(1,"projects/"),_.N())};
uIf=function(a){a&1&&(_.H(0,"p",23),_.F(1,iIf,2,0,"ng-container",15)(2,jIf,2,0,"ng-container",15),_.K(),_.H(3,"form",24)(4,"mat-form-field",25)(5,"mat-label",26),_.F(6,kIf,2,0,"ng-container",15)(7,lIf,2,0,"ng-container",15),_.K(),_.L(8,"input",27),_.V(9,"tagKeyParentIdPlaceholder"),_.F(10,oIf,3,3,"cm-error",28)(11,rIf,3,3,"cm-error",28),_.H(12,"span",29),_.F(13,sIf,2,0,"ng-container",15)(14,tIf,2,0,"ng-container",15),_.K()()());if(a&2){a=_.Q().ngIf;const b=_.Q();_.G("ngSwitch",a.resourceType);_.A();
_.G("ngSwitchCase",b.ResourceType.ORGANIZATIONS);_.A();_.G("ngSwitchCase",b.ResourceType.PROJECTS);_.A();_.G("formGroup",b.form);_.A(2);_.G("ngSwitch",a.resourceType);_.A();_.G("ngSwitchCase",b.ResourceType.ORGANIZATIONS);_.A();_.G("ngSwitchCase",b.ResourceType.PROJECTS);_.A();_.G("placeholder",_.W(9,15,a.resourceType))("ve",b.ve.TagKeyParentManualEntryInput)("veInputText",!0);_.A(2);_.G("cfcDebounceErrorFor","required");_.A();_.G("cfcDebounceErrorFor","invalidKeyParentIdFormat");_.A();_.G("ngSwitch",
a.resourceType);_.A();_.G("ngSwitchCase",b.ResourceType.ORGANIZATIONS);_.A();_.G("ngSwitchCase",b.ResourceType.PROJECTS)}};
vIf=function(a,b){if(a&1){const c=_.p();_.M(0);_.H(1,"h1",14);_.F(2,eIf,2,0,"ng-container",15)(3,fIf,2,0,"ng-container",15);_.K();_.H(4,"div",16)(5,"mat-tab-group",17);_.P("selectedIndexChange",function(d){_.t(c);const e=_.Q();return _.w(e.onTabChange(d))});_.H(6,"mat-tab",18);_.F(7,gIf,1,0,"ng-container",19);_.K();_.H(8,"mat-tab",20);_.F(9,hIf,1,0,"ng-container",19);_.K()();_.F(10,uIf,15,17,"ng-template",null,0,_.Jg);_.K();_.H(12,"div",21)(13,"button",22);_.P("click",function(){_.t(c);const d=_.Q();
return _.w(d.onCancel())});_.O(14,1);_.K();_.H(15,"button",22);_.P("click",function(){const d=_.t(c).ngIf,e=_.Q();return _.w(e.onSave(d.resourceType))});_.O(16,2);_.K()();_.N()}if(a&2){a=b.ngIf;b=_.Zf(11);const c=_.Q();_.A();_.G("ngSwitch",a.resourceType);_.Bf("cdkFocusInitial",!0);_.A();_.G("ngSwitchCase",c.ResourceType.ORGANIZATIONS);_.A();_.G("ngSwitchCase",c.ResourceType.PROJECTS);_.A(2);_.G("selectedIndex",a.tabIndex);_.A();_.G("ve",c.ve.TagKeyParentManualEntryOrganizationIdTab)("veClick",!0);
_.A();_.G("ngTemplateOutlet",b);_.A();_.G("ve",c.ve.TagKeyParentManualEntryProjectIdTab)("veClick",!0);_.A();_.G("ngTemplateOutlet",b);_.A(4);_.G("ve",c.ve.TagKeyParentManualEntryDialogCancel)("veClick",!0);_.A(2);_.G("ve",c.ve.TagKeyParentManualEntryDialogSave)("veClick",!0)}};wIf=function(a){return b=>{if(!b.value)return null;let c=!1;switch(a){case 2:c=_.ogf.test(b.value);break;case 0:c=_.pgf.test(b.value);break;default:_.Ta(a,"invalid tag key parent resource type")}return c?null:{invalidKeyParentIdFormat:!0}}};
xIf=function(a){a&1&&_.Qf(0,14);a&2&&(a=_.Q(),_.G("ngTemplateOutlet",a.formStackDescription.templateRef))};yIf=function(a,b){a&1&&_.L(0,"tag-key-parent-display",19);a&2&&_.G("tagKeyParent",b.ngIf)("showInaccessibleTooltip",!0)};zIf=function(a){a&1&&(_.H(0,"span"),_.O(1,7),_.K())};BIf=function(a,b){a&1&&_.Qf(0,21);if(a&2){a=b.group;b=b.index;const c=_.Q().$implicit;_.G("ngTemplateOutlet",c.templateRef)("ngTemplateOutletContext",_.Ag(2,AIf,b,a))}};
CIf=function(a,b){a&1&&_.F(0,BIf,1,5,"ng-template",20);a&2&&_.G("tagsEditorFormStackInputDisableResizing",b.$implicit.tagsEditorFormStackInputDisableResizing)};EIf=function(a,b){a&1&&_.Qf(0,21);a&2&&(a=b.error,b=_.Q().$implicit,_.G("ngTemplateOutlet",b.templateRef)("ngTemplateOutletContext",_.zg(2,DIf,a)))};FIf=function(a,b){a&1&&_.F(0,EIf,1,4,"ng-template",22);a&2&&(a=b.$implicit,_.G("valueDropdownCustomErrorName",a.valueDropdownCustomErrorName)("errorVeId",a.errorVeId))};
GIf=function(a,b){a&1&&_.Qf(0,21);a&2&&(a=b.error,b=_.Q().$implicit,_.G("ngTemplateOutlet",b.templateRef)("ngTemplateOutletContext",_.zg(2,DIf,a)))};HIf=function(a,b){a&1&&_.F(0,GIf,1,4,"ng-template",23);a&2&&(a=b.$implicit,_.G("valueManualEntryCustomErrorName",a.valueManualEntryCustomErrorName)("errorVeId",a.errorVeId))};
JIf=function(a,b){a&1&&(_.M(0),_.H(1,"fieldset",15)(2,"legend",16),_.F(3,yIf,1,2,"tag-key-parent-display",17),_.V(4,"toTagKeyParent"),_.F(5,zIf,2,0,"ng-template",null,2,_.Jg),_.K(),_.H(7,"tags-editor",18,3),_.V(9,"duplicateTagValueMatcher"),_.V(10,"async"),_.V(11,"duplicateTagKeyMatcher"),_.V(12,"async"),_.V(13,"toTagKeyParent"),_.V(14,"observableOf"),_.V(15,"observableOf"),_.V(16,"showTagKey"),_.F(17,CIf,1,1,null,12)(18,FIf,1,2,null,12)(19,HIf,1,2,null,12),_.K()(),_.N());if(a&2){let c,d,e,f,g;a=
b.$implicit;b=b.index;const n=_.Zf(6),q=_.Q();_.A(2);_.fg("id","edit-tags-title-",b,"");_.A();_.G("ngIf",_.W(4,23,a))("ngIfElse",n);_.A(4);_.fg("externalTitleId","edit-tags-title-",b,"");_.G("formControlName",b)("hideEditorOptions",!0)("addDisabledReason",q.addDisabledReason)("showErrorsForDuplicateKeys",q.showErrorsForDuplicateKeys)("duplicateTagValueMatcher",(c=_.W(10,28,_.Dg(9,25,q.tagEditorsFormArray,q.manualInputFormat)))!==null&&c!==void 0?c:void 0)("duplicateTagKeyMatcher",(d=_.W(12,32,_.W(11,
30,q.tagEditorsFormArray)))!==null&&d!==void 0?d:void 0)("tagFormGroupCreator",q.tagFormGroupCreator)("defaultTagKeyParent$",_.W(14,36,_.W(13,34,a)))("tagKeyOptionsFilterPredicate",q.tagKeyOptionsFilterPredicate)("tagKeyOrganizations$",_.W(15,38,_.yg(42,IIf)))("showKeyInput",_.W(16,40,a))("disallowDuplicateKeyReason",q.disallowDuplicateKeyReason)("disabledTagKeyOptionsMatcher",q.disabledTagKeyOptionsMatcher)("manualInputFormat",q.manualInputFormat);_.A(10);_.G("ngForOf",(e=q.additionalFormStackInputs)!==
null&&e!==void 0?e:_.yg(43,IIf));_.A();_.G("ngForOf",(f=q.valueDropdownCustomErrors)!==null&&f!==void 0?f:_.yg(44,IIf));_.A();_.G("ngForOf",(g=q.valueManualEntryCustomErrors)!==null&&g!==void 0?g:_.yg(45,IIf))}};
LIf=function(a,b){if(a&1){const c=_.p();_.H(0,"cfc-split-button",24)(1,"button",25);_.P("click",function(){_.t(c);const d=_.Q();return _.w(KIf(d))});_.O(2,8);_.K()()}if(a&2){a=b.ngIf;b=_.Q();const c=_.Zf(7),d=_.Zf(9);_.G("menuTemplate",d)("menuTemplateData",a)("raised",!0);_.A();_.G("ve",b.ve.TagsEditorV2PurviewPickerButton)("veClick",!0)("cfcDisable",!!b.addDisabledReason)("cfcDisableTooltip",c)("cfcDisableTooltipRich",!0)}};MIf=function(a){a&1&&_.Qf(0,26);a&2&&(a=_.Q(),_.G("tagFormReason",a.addDisabledReason))};
NIf=function(a){a&1&&_.Qf(0,26);a&2&&(a=_.Q().$implicit,_.G("tagFormReason",a.disabledReason))};
PIf=function(a,b){if(a&1){const c=_.p();_.M(0);_.H(1,"cfc-menu-item",37);_.P("click",function(){const d=_.t(c).$implicit,e=_.Q(3);return _.w(OIf(e,d.tagKeyParent))});_.K();_.F(2,NIf,1,1,"ng-template",null,6,_.Jg);_.N()}a&2&&(a=b.$implicit,b=_.Zf(3),_.A(),_.G("label",a.itemLabel)("note",a.itemNote)("ve",a.veId)("veClick",!0)("cfcDisable",!!a.disabledReason)("cfcDisableTooltip",b)("cfcDisableTooltipRich",!0))};
QIf=function(a){a&1&&(_.H(0,"cfc-menu-section",36),_.F(1,PIf,4,7,"ng-container",12),_.K());a&2&&(a=_.Q().$implicit,_.G("hasSeparator",!0),_.A(),_.G("ngForOf",a.currentScopeItems))};RIf=function(a){a&1&&_.Qf(0,26);a&2&&(a=_.Q().$implicit,_.G("tagFormReason",a.manualEntry.disabledReason))};
WIf=function(a,b){if(a&1){const c=_.p();_.H(0,"cfc-menu",27);_.F(1,QIf,2,2,"cfc-menu-section",28);_.H(2,"cfc-menu-section",29);_.L(3,"cfc-menu-item",30);_.K()();_.H(4,"cfc-menu",31,4)(6,"cfc-menu-section",32)(7,"cfc-menu-item",33);_.P("click",function(){_.t(c);const d=_.Q();return _.w(SIf(d,d.ResourceType.ORGANIZATIONS))});_.K();_.H(8,"cfc-menu-item",34);_.P("click",function(){_.t(c);const d=_.Q();return _.w(SIf(d,d.ResourceType.PROJECTS))});_.K();_.H(9,"cfc-menu-item",35);_.P("click",function(){_.t(c);
const d=_.Q();d.tagEditorsFormArray.push(d.manualInputFormat===1?new TIf([d.tagFormGroupCreator(void 0,!0)]):new UIf([d.tagFormGroupCreator(void 0,!1)]));VIf(d);return _.w(void 0)});_.K()()();_.F(10,RIf,1,1,"ng-template",null,5,_.Jg)}if(a&2){a=b.$implicit;b=_.Zf(5);const c=_.Zf(11),d=_.Q(),e=_.Zf(7);_.A();_.G("ngIf",a.currentScopeItems.length>0);_.A(2);_.G("cfcMenuTriggerFor",b);_.A(4);_.G("ve",d.ve.TagsEditorV2OrganizationIdMenuItem)("veClick",!0)("cfcDisable",!!d.addDisabledReason)("cfcDisableTooltip",
e)("cfcDisableTooltipRich",!0);_.A();_.G("ve",d.ve.TagsEditorV2ProjectIdMenuItem)("veClick",!0)("cfcDisable",!!d.addDisabledReason)("cfcDisableTooltip",e)("cfcDisableTooltipRich",!0);_.A();_.G("ve",d.ve.TagsEditorV2ManualEntryMenuItem)("veClick",!0)("cfcDisable",!!a.manualEntry.disabledReason)("cfcDisableTooltip",c)("cfcDisableTooltipRich",!0)}};XIf=function(a){var b=a.controls.flatMap(c=>c.value);a=NGf(b);b=PGf(b);return Object.assign({},a,b)};YIf=function(a){a=a.controls.flatMap(b=>b.value);return RGf(a)};
ZIf=function(a,b){return a.config.request("GetNamespacedTagKey",'query GetNamespacedTagKey($name: String!) @Signature(bytes: "2/O70ZvDo+jomOkgRdOH9M0yv9evp2/dX7zyYXiXMDWo8=") { tagKeyService { getNamespacedTagKey(name: $name) { createTime description name namespacedName parent purpose purposeData { key value } shortName } } }',b,void 0)};
_.$If=function(a,b){return ZIf(a.tagsGraphqlClient,{name:b}).pipe(_.Ue(),_.y(c=>{let d;return a.wrap(c==null?void 0:(d=c.tagKeyService)==null?void 0:d.getNamespacedTagKey)}),_.gT())};aJf=function(a,b){return a.namespacedKeyCache.get(b,{onCacheMiss:()=>_.$If(a.keyService,b).pipe(_.y(c=>{if(c instanceof _.Rff)throw c;return c}))})};_.bJf={type:1,path:"/resource-manager/docs/tags/tags-overview"};cJf={DROPDOWN:0,MANUAL:1,MANUAL_NAMESPACED:2,0:"DROPDOWN",1:"MANUAL",2:"MANUAL_NAMESPACED"};
_.HGf=class extends _.hr{constructor(a,b){super(b);this.tagKeyParent$=new _.gh(a.tagKeyParent);this.tagKeyDropdownReadonlyReason=a.tagKeyDropdownReadonlyReason}getTagKeyParent(){return this.tagKeyParent$.value}};_.IGf=class{toStringReason(){return"No tag key selected."}};
_.eGf=class extends _.hr{constructor(a,b){super(b);this.tagKeyId=a.tagKeyId;this.tagKeyNamespacedName=a.tagKeyNamespacedName;this.tagValueDropdownDisabledReason$=this.tagValueDropdownDisabledReasonSubject$=new _.gh(a.tagValueDropdownDisabledReason);this.tagValueDropdownReadonlyReason=a.tagValueDropdownReadonlyReason}};_.hU=function(a){return a.get("key")};_.bGf=function(a){return a.get("value")};
_.GGf=class extends _.er{constructor(a,b,c){super({key:b,value:c});this.tagFormGroupType=0;this.metadata=a.metadata;this.deleteDisabledReason=a.deleteDisabledReason;_.hU(this).valueChanges.subscribe(d=>{let e;var f=_.bGf(this),g=(e=_.hT(d==null?void 0:d.name))==null?void 0:e.resourceId;d=d==null?void 0:d.namespacedName;if(g!==f.tagKeyId||d!==f.tagKeyNamespacedName)f.tagKeyId=g,f.tagKeyNamespacedName=d,g||d?(f.tagValueDropdownDisabledReasonSubject$.next(void 0),f.enable()):(f.tagValueDropdownDisabledReasonSubject$.next(new _.IGf),
f.disable()),f.setValue(null)})}};_.LGf=class extends _.er{constructor(a,b){super({valueId:b});this.tagFormGroupType=1;this.metadata=a.metadata}};_.KGf=class extends _.hr{constructor(a,b){super(b);this.tagParent=a.tagParent}setTagParent(a){this.tagParent=a}getTagKey(){const a=this.tagParent,b=this.value;return a&&b?{shortName:b,namespacedName:`${a}/${b}`,purpose:"PURPOSE_UNSPECIFIED",purposeData:[]}:null}};
_.fGf=class extends _.hr{constructor(a,b){super(b);this.tagParent=a.tagParent;this.tagKeyShortName=a.tagKeyShortName}setTagParent(a){this.tagParent=a}};dJf=function(a){return a.get("keyShortName")};cGf=function(a){return a.get("valueShortName")};
_.JGf=class extends _.er{constructor(a,b,c,d){super({parent:b,keyShortName:c,valueShortName:d});this.tagFormGroupType=2;this.metadata=a.metadata;this.get("parent").valueChanges.subscribe(e=>{dJf(this).setTagParent(e!=null?e:void 0);cGf(this).setTagParent(e!=null?e:void 0)});dJf(this).valueChanges.subscribe(e=>{cGf(this).tagKeyShortName=e!=null?e:void 0})}getTagKey(){return dJf(this).getTagKey()}};var eJf={LOADED:0,LOADING:1,FAILED:2,0:"LOADED",1:"LOADING",2:"FAILED"};var fJf=new _.Wc("TagsDropdownService"),gJf=class extends Error{constructor(a){super();this.displayMessage=a;Object.setPrototypeOf(this,gJf.prototype)}};_.iJf=class{constructor(a){this.viewContainerRef=a}set tagFormReason(a){this.viewContainerRef.clear();a&&(a.createComponent?a.createComponent(this.viewContainerRef):this.viewContainerRef.createComponent(hJf).instance.reason=a.toStringReason())}};_.iJf.\u0275fac=function(a){return new (a||_.iJf)(_.B(_.jg))};_.iJf.\u0275dir=_.ze({type:_.iJf,selectors:[["ng-container","tagFormReason",""]],inputs:{tagFormReason:"tagFormReason"},standalone:!1});var hJf=class{ngOnInit(){}};
hJf.\u0275fac=function(a){return new (a||hJf)};hJf.\u0275cmp=_.D({type:hJf,selectors:[["tag-form-reason-default"]],inputs:{reason:"reason"},standalone:!1,decls:1,vars:1,template:function(a,b){a&1&&_.S(0);a&2&&_.rg(b.reason)},encapsulation:2});_.iU=class{};_.iU.\u0275fac=function(a){return new (a||_.iU)};_.iU.\u0275mod=_.ye({type:_.iU});_.iU.\u0275inj=_.Dc({});var jJf=["select"],rGf=(a,b)=>b.namespacedName,kJf=a=>({dropdownState:a}),lJf={OPEN:0,CLOSED:1,0:"OPEN",1:"CLOSED"},mJf={emptyValue:"",compareWith:a=>a&&!Array.isArray(a)?a.namespacedName:""},nJf=class extends _.gu{constructor(a,b){super();this.tagsDropdownService=a;this.ngControl=b;this.ve={TagDropdownEmptyMessage:148265,TagDropdownLoadingFailedMessage:148267,TagDropdownLoadingMessage:148266,TagDropdownOption:148264};this.emptyStateText="No entries";this.loadingText="Loading...";this.focus=new _.qm;
this.blur=new _.qm;this.valueChange=new _.qm;this.dropdownState$=new _.gh(1);this.DropDownState=lJf;this.OptionsStatus=eJf;this.optionsData$=this.dropdownState$.pipe(_.fe(c=>c===0),_.E(()=>this.loadOptions()));this.COMPARISON_CONFIG=mJf;b.valueAccessor=this}ngOnInit(){}ngAfterViewInit(){}getFormControl(){return this.ngControl.control}writeValue(a){this.value=a}updateValue(a){this.value=a;this.valueChange.emit(a)}onContainerClick(){this.select.onContainerClick()}displayOptions(){this.dropdownState$.next(0)}hideOptions(){this.dropdownState$.next(1)}loadOptions(){return this.tagsDropdownService.loadOptions().pipe(_.y(a=>
a.filter(b=>{let c;const d=((c=this.value)==null?void 0:c.namespacedName)===b.namespacedName;let e,f;return((f=(e=this.optionsFilterPredicate)==null?void 0:e.call(this,b))!=null?f:!0)||d})),_.y(a=>({status:0,values:[...a].sort((b,c)=>b.shortName.localeCompare(c.shortName))})),_.df({status:1}),_.Be(a=>{a=a instanceof gJf?a:new gJf("Failed to load");return _.x({status:2,error:a})}))}};nJf.\u0275fac=function(a){return new (a||nJf)(_.B(fJf),_.B(_.$q,2))};
nJf.\u0275cmp=_.D({type:nJf,selectors:[["tag-dropdown-base"]],viewQuery:function(a,b){a&1&&_.lg(jJf,5);if(a&2){let c;_.ng(c=_.og())&&(b.select=c.first)}},inputs:{disabledOptionsMatcher:"disabledOptionsMatcher",optionsFilterPredicate:"optionsFilterPredicate",emptyStateText:"emptyStateText",loadingText:"loadingText",disabledReason:"disabledReason",dropdownVe:"dropdownVe",disabledTooltipPosition:"disabledTooltipPosition",ariaLabelText:"ariaLabelText"},outputs:{focus:"focus",blur:"blur",valueChange:"valueChange"},
standalone:!1,features:[_.yf],decls:4,vars:5,consts:[["disabledReasonTemplate",""],["select",""],["disabledOptionReasonTemplate",""],[3,"formControl","hasFilter","comparisonConfig","cfcDisable","cfcDisableTooltip","cfcDisableTooltipRich","cfcDisableTooltipPosition","ve","veClick","aria-label"],[3,"focus","blur","onClosed","onOpen","valueChange","formControl","hasFilter","comparisonConfig","cfcDisable","cfcDisableTooltip","cfcDisableTooltipRich","cfcDisableTooltipPosition","ve","veClick","aria-label"],
[3,"value"],[3,"ve","veImpression","disabled"],[1,"cfc-max-width-base","cfc-break-word-wrap",3,"cfcDisable","ve","veClick","cfcDisableTooltip","cfcDisableTooltipRich","cfcDisableTooltipPosition","value"],["class","cfc-max-width-base cfc-break-word-wrap",3,"cfcDisable","ve","veClick","cfcDisableTooltip","cfcDisableTooltipRich","cfcDisableTooltipPosition","value",4,"ngVar"],[3,"primary","secondary"],[3,"tagFormReason"],["icon","status-error"]],template:function(a,b){a&1&&(_.F(0,yGf,4,11,"cfc-select",
3),_.V(1,"async"),_.F(2,zGf,1,1,"ng-template",null,0,_.Jg));if(a&2){let c;_.Lf((c=_.zg(3,kJf,_.W(1,1,b.dropdownState$)))?0:-1,c)}},dependencies:[_.ds,_.hs,_.av,_.iw,_.dp,_.jw,_.br,_.lr,_.gv,_.ev,_.Ho,_.jv,_.ww,_.iJf,_.Fm,_.dU,_.LFf],encapsulation:2,changeDetection:0});var oJf=class{};oJf.\u0275fac=function(a){return new (a||oJf)};oJf.\u0275mod=_.ye({type:oJf});oJf.\u0275inj=_.Dc({imports:[_.js,_.Jm,_.nw,_.eU,_.ip,_.kw,_.yr,_.zw,_.cU,_.iU]});var pJf=["tagDropdownBase"],qJf=0,rJf=class{constructor(a){this.tagKeyValueCache=a}loadOptions(){let a;const b=(a=this.ngControl)==null?void 0:a.control;return _.Fgf(this.tagKeyValueCache,b.getTagKeyParent()).pipe(_.y(c=>c.map(d=>({description:d.description,name:d.resourceName,shortName:d.shortName,purpose:d.purpose,purposeData:d.purposeData,namespacedName:d.namespacedName}))),_.Be(c=>c.statusCode===403?_.Ld(new gJf("Insufficient permission to list keys")):_.Ld(c)))}};
rJf.\u0275fac=function(a){return new (a||rJf)(_.l(_.Ggf))};rJf.\u0275prov=_.k({token:rJf,factory:rJf.\u0275fac});
var sJf=class extends _.ju{constructor(a,b,c,d){super("tag-key-dropdown",c,qJf++,null);this.defaultErrorStateMatcher=a;this.parentFormGroup=b;this.ngControl=c;this.formFieldId=this.id;this.ve={TagKeyDropdownVe:148230};this.focus=new _.qm;this.blur=new _.qm;c.valueAccessor=this;d.ngControl=c}ngAfterViewInit(){}ngDoCheck(){this.updateErrorState()}getErrorStateMatcher(){let a;return(a=this.errorStateMatcher)!=null?a:this.defaultErrorStateMatcher}getParentForm(){return this.parentFormGroup}onContainerClick(){this.tagDropdownBase.onContainerClick()}writeValue(a){this.setValue(a)}updateKey(a){this.setValue(a)}getFormControl(){return this.ngControl.control}};
sJf.\u0275fac=function(a){return new (a||sJf)(_.B(_.Co),_.B(_.mr),_.B(_.$q,2),_.B(rJf))};
sJf.\u0275cmp=_.D({type:sJf,selectors:[["tag-key-dropdown"]],viewQuery:function(a,b){a&1&&_.lg(pJf,5);if(a&2){let c;_.ng(c=_.og())&&(b.tagDropdownBase=c.first)}},hostVars:1,hostBindings:function(a,b){a&2&&_.Bf("id",b.formFieldId)},inputs:{disabledOptionsMatcher:"disabledOptionsMatcher",optionsFilterPredicate:"optionsFilterPredicate",disabledTooltipPosition:"disabledTooltipPosition"},outputs:{focus:"focus",blur:"blur"},standalone:!1,features:[_.xg([{provide:_.Tq,useExisting:sJf,multi:!0},{provide:fJf,
useExisting:rJf},rJf]),_.yf],decls:3,vars:8,consts:()=>[["tagDropdownBase",""],["emptyStateText","No keys available","ariaLabelText","Tag key",3,"focus","blur","valueChange","disabledOptionsMatcher","optionsFilterPredicate","formControl","dropdownVe","disabledReason","disabledTooltipPosition"]],template:function(a,b){if(a&1){const c=_.p();_.H(0,"tag-dropdown-base",1,0);_.V(2,"readonlyReason");_.P("focus",function(){_.t(c);b.focus.emit();b.focused=!0;b.stateChanges.next();return _.w(void 0)})("blur",
function(){_.t(c);b.blur.emit();b.focused=!1;b.stateChanges.next();return _.w(void 0)})("valueChange",function(d){_.t(c);return _.w(b.updateKey(d))});_.K()}a&2&&_.G("disabledOptionsMatcher",b.disabledOptionsMatcher)("optionsFilterPredicate",b.optionsFilterPredicate)("formControl",b.getFormControl())("dropdownVe",b.ve.TagKeyDropdownVe)("disabledReason",_.W(2,6,b.ngControl))("disabledTooltipPosition",b.disabledTooltipPosition)},dependencies:()=>[_.br,_.lr,nJf,tJf],encapsulation:2,changeDetection:0});
var tJf=class{transform(a){return a.control.tagKeyDropdownReadonlyReason}};tJf.\u0275fac=function(a){return new (a||tJf)};tJf.\u0275pipe=_.Ae({name:"readonlyReason",type:tJf,pure:!0,standalone:!1});var uJf=class{};uJf.\u0275fac=function(a){return new (a||uJf)};uJf.\u0275mod=_.ye({type:uJf});uJf.\u0275inj=_.Dc({imports:[_.js,_.Jm,_.yr,_.zw,oJf]});var vJf=["tagDropdownBase"],wJf=0,xJf=function(a,b){return a.tagKeyValueCache.valuesForKey(b).pipe(_.y(c=>c.map(d=>({description:d.description,name:d.resourceName,shortName:d.shortName,namespacedName:d.namespacedName}))),_.Be(c=>c.statusCode===403?_.Ld(new gJf("Insufficient permission to list values")):_.Ld(c)))},yJf=class{constructor(a){this.tagKeyValueCache=a}loadOptions(){var a;const b=(a=this.ngControl)==null?void 0:a.control;return(a=b.tagKeyId)?xJf(this,a):aJf(this.tagKeyValueCache,b.tagKeyNamespacedName).pipe(_.E(c=>
c.id?xJf(this,c.id):_.Ld(new gJf("Unable to fetch values for the selected key"))),_.Be(c=>c.statusCode===403?_.Ld(new gJf("Permission `resourcemanager.tagKeys.get` is required to populate the tag values")):_.Ld(new gJf("Unable to fetch values for the selected key"))))}};yJf.\u0275fac=function(a){return new (a||yJf)(_.l(_.Ggf))};yJf.\u0275prov=_.k({token:yJf,factory:yJf.\u0275fac});
var zJf=class extends _.ju{constructor(a,b,c,d){super("tag-value-dropdown",c,wJf++,null);this.defaultErrorStateMatcher=a;this.parentFormGroup=b;this.ngControl=c;this.formFieldId=this.id;this.ve={TagValueDropdownVe:148231};this.focus=new _.qm;this.blur=new _.qm;c.valueAccessor=this;d.ngControl=c}getFormControl(){return this.ngControl.control}ngAfterViewInit(){}ngDoCheck(){this.updateErrorState()}getErrorStateMatcher(){let a;return(a=this.errorStateMatcher)!=null?a:this.defaultErrorStateMatcher}getParentForm(){return this.parentFormGroup}onContainerClick(){this.tagDropdownBase.onContainerClick()}writeValue(a){this.setValue(a)}updateValue(a){this.setValue(a)}};
zJf.\u0275fac=function(a){return new (a||zJf)(_.B(_.Co),_.B(_.mr),_.B(_.$q,2),_.B(yJf))};
zJf.\u0275cmp=_.D({type:zJf,selectors:[["tag-value-dropdown"]],viewQuery:function(a,b){a&1&&_.lg(vJf,5);if(a&2){let c;_.ng(c=_.og())&&(b.tagDropdownBase=c.first)}},hostVars:1,hostBindings:function(a,b){a&2&&_.Bf("id",b.formFieldId)},inputs:{disabledTooltipPosition:"disabledTooltipPosition"},outputs:{focus:"focus",blur:"blur"},standalone:!1,features:[_.xg([{provide:_.Tq,useExisting:zJf,multi:!0},{provide:fJf,useExisting:yJf},yJf]),_.yf],decls:4,vars:8,consts:()=>[["tagDropdownBase",""],["emptyStateText",
"No values available","ariaLabelText","Tag value",3,"focus","blur","valueChange","formControl","dropdownVe","disabledReason","disabledTooltipPosition"]],template:function(a,b){if(a&1){const c=_.p();_.H(0,"tag-dropdown-base",1,0);_.V(2,"disabledReason");_.V(3,"async");_.P("focus",function(){_.t(c);b.focus.emit();b.focused=!0;b.stateChanges.next();return _.w(void 0)})("blur",function(){_.t(c);b.blur.emit();b.focused=!1;b.stateChanges.next();return _.w(void 0)})("valueChange",function(d){_.t(c);return _.w(b.updateValue(d))});
_.K()}if(a&2){let c;_.G("formControl",b.getFormControl())("dropdownVe",b.ve.TagValueDropdownVe)("disabledReason",(c=_.W(3,6,_.W(2,4,b.ngControl)))!==null&&c!==void 0?c:void 0)("disabledTooltipPosition",b.disabledTooltipPosition)}},dependencies:()=>[_.br,_.lr,nJf,_.Fm,AJf],encapsulation:2,changeDetection:0});var AJf=class{transform(a){const b=a.control;return b.tagValueDropdownDisabledReason$.pipe(_.y(c=>c!=null?c:b.tagValueDropdownReadonlyReason))}};AJf.\u0275fac=function(a){return new (a||AJf)};
AJf.\u0275pipe=_.Ae({name:"disabledReason",type:AJf,pure:!0,standalone:!1});var BJf=class{};BJf.\u0275fac=function(a){return new (a||BJf)};BJf.\u0275mod=_.ye({type:BJf});BJf.\u0275inj=_.Dc({imports:[_.js,_.Jm,_.yr,_.zw,oJf]});var CJf=class{constructor(a,b,c){this.dialogRef=b;this.formBuilder=c;this.organizations=[];b=void 0;a.currentOrgId&&(b=a.organizations.find(e=>e.id===a.currentOrgId),b||(b={id:a.currentOrgId},this.organizations.push(b)));this.organizations.push(...a.organizations);this.organizations.sort(CGf);let d;this.form=this.formBuilder.group({currentOrg:(d=b)!=null?d:null})}onSave(){this.form.updateValueAndValidity();this.form.markAllAsTouched();if(this.form.valid){var a;this.dialogRef.close((a=this.form.get("currentOrg"))==
null?void 0:a.value)}}onCancel(){this.dialogRef.close()}};CJf.\u0275fac=function(a){return new (a||CJf)(_.B(_.vo),_.B(_.uo),_.B(_.wr))};
CJf.\u0275cmp=_.D({type:CJf,selectors:[["tags-org-selector"]],standalone:!1,decls:17,vars:5,consts:()=>[" Select organization\n"," Tag keys from the selected organization will be displayed in the key dropdown. ","Organization ","Cancel","Save"," An organization is required",["matDialogTitle","","tabindex","-1"],["matDialogContent",""],[1,"cfc-spacing-2",3,"formGroup"],["formControlName","currentOrg",3,"isRequired"],[3,"value",4,"ngFor","ngForOf"],["matError","",4,"cfcDebounceErrorFor"],["matDialogActions",
""],["mat-button","","color","primary",3,"click"],[3,"value"],["matError",""]],template:function(a,b){a&1&&(_.H(0,"h1",6),_.O(1,0),_.K(),_.H(2,"div",7)(3,"p"),_.O(4,1),_.K(),_.H(5,"form",8)(6,"mat-form-field")(7,"mat-label"),_.O(8,2),_.K(),_.H(9,"cfc-select",9),_.F(10,AGf,2,2,"mat-option",10),_.K(),_.F(11,BGf,2,0,"cm-error",11),_.K()()(),_.H(12,"div",12)(13,"button",13),_.P("click",function(){return b.onCancel()}),_.O(14,3),_.K(),_.H(15,"button",13),_.P("click",function(){return b.onSave()}),_.O(16,
4),_.K()());a&2&&(_.Bf("cdkFocusInitial",!0),_.A(5),_.G("formGroup",b.form),_.A(4),_.G("isRequired",!0),_.A(),_.G("ngForOf",b.organizations),_.A(),_.G("cfcDebounceErrorFor","required"))},dependencies:[_.zm,_.Kw,_.MB,_.ls,_.Gp,_.cs,_.yo,_.Ao,_.zo,_.ku,_.Jw,_.lu,_.Uq,_.Sq,_.Hw,_.jr,_.br,_.cr,_.mr,_.pr,_.gv,_.ev,_.Ho,_.jv],encapsulation:2});var DJf=class{};DJf.\u0275fac=function(a){return new (a||DJf)};DJf.\u0275mod=_.ye({type:DJf});DJf.\u0275inj=_.Dc({imports:[_.Jm,_.Lw,_.OB,_.ms,_.Mo,_.mu,_.yr,_.zw]});var EJf;EJf=function(a,b){const c=_.AFf(b);switch(c){case 2:case 0:case 43:return b=_.Y6b(_.QPc(_.zFf(b)||"")),c===2?_.x([b]):_.Jub(a.crmResourceService,b.id,c);default:return _.x([])}};_.FJf=function(a,b){return b.length!==0?_.Sd(b.map(c=>{a:switch(_.AFf(c)){case 2:case 0:case 43:c=EJf(a,c).pipe(_.y(EGf));break a;default:c=a.orgIdForPurview$}return c})):_.x([])};
_.GJf=function(a){return _.Nff(a.orgNamespaceService).pipe(_.y(b=>{const c=new Map;for(const [d,e]of b.entries())b=d,c.set(b,{id:b,displayName:e.name});return c}))};_.HJf=function(a,b=[],c=[]){const d=DGf(c);return _.Sd([_.FJf(a,b),_.GJf(a)]).pipe(_.y(([e,f])=>{e=[..._.FGf(e),...d];for(const g of e)f.has(g)||f.set(g,{id:g});return Array.from(f.values())}))};
_.IJf=class{constructor(a,b,c){this.crmResourceService=a;this.purviewService=b;this.orgNamespaceService=c;this.orgIdForPurview$=this.purviewService.latestPurviewObservable.pipe(_.E(d=>d.reference?EJf(this,d.reference):_.x([])),_.y(EGf))}};_.IJf.\u0275fac=function(a){return new (a||_.IJf)(_.l(_.Ns),_.l(_.Uj),_.l(_.fT))};_.IJf.\u0275prov=_.k({token:_.IJf,factory:_.IJf.\u0275fac,providedIn:"root"});var TGf=function(a,b){const c=_.hU(b).getTagKeyParent();a.dialog.open(CJf,{data:{currentOrgId:c.resourceType===2?c.id:void 0,organizations:a.organizations}}).afterClosed().pipe(_.ef(a.destroy),_.Le(1)).subscribe(d=>{if(d){d={id:d.id,resourceType:2};var e=_.hU(b),f=e.tagKeyParent$.value;if(f.id!==d.id||f.resourceType!==d.resourceType)e.tagKeyParent$.next(d),e.setValue(null)}})},VGf=function(a,b){_.hU(b).value?a.confirmDialogService.confirm({header:"Switch to manual entry?",body:"The selected key/value entries will not be preserved.",
confirmButtonVeId:a.ve.TagsEditOptionsManualEntryDialogConfirm,cancelButtonVeId:a.ve.TagsEditOptionsManualEntryDialogCancel}).pipe(_.ef(a.destroy),_.Le(1),_.E(c=>c.afterClosed())).subscribe(c=>{(c==null?0:c.confirmed)&&a.manualEntryRequested.emit()}):a.manualEntryRequested.emit()},XGf=function(a,b){b instanceof _.GGf||(_.Ka(!(b instanceof _.JGf)),(b.controls.valueId.value?a.confirmDialogService.confirmation({header:"Switch to selecting from a list?",body:"The manually entered tag value will not be preserved.",
confirmButtonVeId:a.ve.TagsEditOptionsSelectFromListDialogConfirm,cancelButtonVeId:a.ve.TagsEditOptionsSelectFromListDialogCancel}).pipe(_.y(c=>c.confirmed)):_.x(!0)).pipe(_.ef(a.destroy),_.fe(c=>c),_.Le(1)).subscribe(()=>{a.keyValueDropdownRequested.emit()}))},JJf=class{constructor(a,b){this.confirmDialogService=a;this.dialog=b;this.organizations=[];this.manualEntryRequested=new _.qm;this.keyValueDropdownRequested=new _.qm;this.ve={TagsEditOptionsButton:148343,TagsEditOptionsManualEntryDialogCancel:148348,
TagsEditOptionsManualEntryDialogConfirm:148347,TagsEditOptionsManualEntryMenuItem:148344,TagsEditOptionsSelectFromListDialogCancel:148350,TagsEditOptionsSelectFromListDialogConfirm:148349,TagsEditOptionsSelectFromListMenuItem:148346,TagsEditOptionsSwitchOrganizationMenuItem:148345};this.TagFormGroupType=cJf;this.destroy=new _.We(1);this.MSG_MANUAL_ENTRY_NOT_AVAILABLE="Manual entry is not available since the tags cannot be modified";this.MSG_SWITCH_ORGS_NOT_AVAILABLE="Switching organizations is not available since the tags cannot be modified"}ngOnInit(){}ngOnChanges(){}ngOnDestroy(){this.destroy.next();
this.destroy.complete()}};JJf.\u0275fac=function(a){return new (a||JJf)(_.B(_.Xy),_.B(_.wo))};
JJf.\u0275cmp=_.D({type:JJf,selectors:[["tags-editor-options"]],inputs:{tagFormGroup:"tagFormGroup",organizations:"organizations"},outputs:{manualEntryRequested:"manualEntryRequested",keyValueDropdownRequested:"keyValueDropdownRequested"},standalone:!1,features:[_.im],decls:6,vars:6,consts:()=>[["optionsMenu",""],["mat-icon-button","","type","button","cfcTooltip","Options","aria-label","Open options menu for this row.",3,"cfcMenuTriggerFor","ve","veClick"],["icon","more","size","small"],[3,"ngSwitch"],
[4,"ngSwitchCase"],["label","Manual entry",3,"click","ve","veClick","cfcDisable","cfcDisableTooltip"],["label","Switch organization",3,"ve","veClick","cfcDisable","cfcDisableTooltip","click",4,"ngIf"],["label","Switch organization",3,"click","ve","veClick","cfcDisable","cfcDisableTooltip"],["label","Select from list","cfcDisableTooltip","Not available since there are no organizations to list tags from",3,"click","ve","veClick","cfcDisable"]],template:function(a,b){a&1&&(_.H(0,"button",1),_.L(1,"cfc-icon",
2),_.K(),_.H(2,"cfc-menu",3,0),_.F(4,WGf,4,7,"cfc-menu-section",4)(5,YGf,2,3,"cfc-menu-section",4),_.K());a&2&&(a=_.Zf(3),_.G("cfcMenuTriggerFor",a)("ve",b.ve.TagsEditOptionsButton)("veClick",!0),_.A(2),_.G("ngSwitch",b.tagFormGroup.tagFormGroupType),_.A(2),_.G("ngSwitchCase",b.TagFormGroupType.DROPDOWN),_.A(),_.G("ngSwitchCase",b.TagFormGroupType.MANUAL))},dependencies:()=>[_.ds,_.hs,_.Am,_.Bm,_.Cm,_.gw,_.dp,_.ls,_.Ip,_.cs,_.Lu,_.Ju,_.Ku,_.Ou,_.Au,KJf],encapsulation:2});
var KJf=class{transform(a){return!(!_.hU(a).tagKeyDropdownReadonlyReason&&!_.bGf(a).tagValueDropdownReadonlyReason)||!!a.deleteDisabledReason}};KJf.\u0275fac=function(a){return new (a||KJf)};KJf.\u0275pipe=_.Ae({name:"isDropdownChangeDisabled",type:KJf,pure:!0,standalone:!1});var LJf,MJf,BHf,cHf,jHf,qHf,IHf,NHf;LJf=["formStack"];MJf=a=>({defaultTagKeyParent:a});BHf=()=>[];cHf=()=>["required","invalidParent"];jHf=a=>({error:a});qHf=()=>["required","invalidShortName"];IHf=()=>["required","pattern"];NHf=(a,b)=>({index:a,group:b});_.NJf=class{constructor(a){this.templateRef=a;this.tagsEditorFormStackInputDisableResizing=!1}};_.NJf.\u0275fac=function(a){return new (a||_.NJf)(_.B(_.ig))};
_.NJf.\u0275dir=_.ze({type:_.NJf,selectors:[["","tagsEditorFormStackInput",""]],inputs:{tagsEditorFormStackInputDisableResizing:"tagsEditorFormStackInputDisableResizing"},standalone:!1});_.OJf=class{constructor(a){this.templateRef=a}};_.OJf.\u0275fac=function(a){return new (a||_.OJf)(_.B(_.ig))};_.OJf.\u0275dir=_.ze({type:_.OJf,selectors:[["ng-template","valueDropdownCustomErrorName",""]],inputs:{valueDropdownCustomErrorName:"valueDropdownCustomErrorName",errorVeId:"errorVeId"},standalone:!1});
_.PJf=class{constructor(a){this.templateRef=a}};_.PJf.\u0275fac=function(a){return new (a||_.PJf)(_.B(_.ig))};_.PJf.\u0275dir=_.ze({type:_.PJf,selectors:[["ng-template","valueManualEntryCustomErrorName",""]],inputs:{valueManualEntryCustomErrorName:"valueManualEntryCustomErrorName",errorVeId:"errorVeId"},standalone:!1});_.jU=class{constructor(a){this.templateRef=a}};_.jU.\u0275fac=function(a){return new (a||_.jU)(_.B(_.ig))};
_.jU.\u0275dir=_.ze({type:_.jU,selectors:[["","tagsEditorFormStackDescription",""]],standalone:!1});var QJf=class{transform(a){return a.name?a.shortNameRepresentation?_.Gi("{valueId} ({keyShortName}:{valueShortName})",{valueId:a.name,keyShortName:a.shortNameRepresentation.keyShortName,valueShortName:a.shortNameRepresentation.shortName}):a.name:a.namespacedName}};QJf.\u0275fac=function(a){return new (a||QJf)};QJf.\u0275pipe=_.Ae({name:"duplicateValueName",type:QJf,pure:!0});
var RJf=class{transform(a){if("deleteDisabledReason"in a)return a.deleteDisabledReason}};RJf.\u0275fac=function(a){return new (a||RJf)};RJf.\u0275pipe=_.Ae({name:"tagGroupDeleteDisabledReason",type:RJf,pure:!0});var SJf=class{transform(a){if("getTagKeyControl"in a)return _.hU(a)}};SJf.\u0275fac=function(a){return new (a||SJf)};SJf.\u0275pipe=_.Ae({name:"tagGroupGetTagKeyControl",type:SJf,pure:!0});var TJf=class{transform(a){if("getTagKeyShortNameControl"in a)return dJf(a)}};
TJf.\u0275fac=function(a){return new (a||TJf)};TJf.\u0275pipe=_.Ae({name:"tagGroupGetTagKeyShortNameControl",type:TJf,pure:!0});var UJf=class{transform(a){if("getTagValueControl"in a)return _.bGf(a)}};UJf.\u0275fac=function(a){return new (a||UJf)};UJf.\u0275pipe=_.Ae({name:"tagGroupGetTagValueControl",type:UJf,pure:!0});var VJf=class{transform(a){if("getTagValueShortNameControl"in a)return cGf(a)}};VJf.\u0275fac=function(a){return new (a||VJf)};
VJf.\u0275pipe=_.Ae({name:"tagGroupGetTagValueShortNameControl",type:VJf,pure:!0});var WJf=class{transform(a){if("getManualEntryControl"in a)return a.get("valueId")}};WJf.\u0275fac=function(a){return new (a||WJf)};WJf.\u0275pipe=_.Ae({name:"tagGroupGetManualEntryControl",type:WJf,pure:!0});
var aIf=/^[1-9][0-9]{0,18}$/,kHf=function(a,b){if(b&&a.showErrorsForDuplicateKeys)return a.duplicateTagKeyMatcher?a.duplicateTagKeyMatcher(b):SGf(a.formStackFormArray.errors,b)},wHf=function(a,b){if(b)return a.duplicateTagValueMatcher?a.duplicateTagValueMatcher(b):a.manualInputFormat===1?QGf(a.formStackFormArray.errors,b):OGf(a.formStackFormArray.errors,b)},QHf=function(a,b,c){XJf(a,c).pipe(_.ef(a.destroy$),_.Le(1)).subscribe({next:d=>{a.formStackFormArray.setControl(b,d);a.changeDetectorRef.detectChanges()},
error:d=>{a.errorService.handleError(d,"Failed to switch to selecting from list")}})},THf=function(a,b){YJf(a,b).pipe(_.ef(a.destroy$),_.Le(1)).subscribe(c=>{a.formStackFormArray.push(c);a.changeDetectorRef.detectChanges()})},ZJf=function(a){return{isErrorState:(b,c)=>a.defaultErrorStateMatcher.isErrorState(b,c)?!0:!!wHf(a,b)}},$Jf=function(a){return{isErrorState:(b,c)=>a.defaultErrorStateMatcher.isErrorState(b,c)?!0:!!kHf(a,b)}},XJf=function(a,b){return YJf(a,b).pipe(_.E(c=>c instanceof _.GGf?_.x(c):
_.Ld({errorExperience:5})))},aKf=function(a){return a.tagKeyOrganizationsInternal$.pipe(_.Re(),_.E(b=>b.length===0?_.x(void 0):a.dialog.open(CJf,{data:{organizations:b},disableClose:!0}).afterClosed().pipe(_.fe(_.Dj),_.y(c=>({id:c.id,resourceType:2})))),_.Le(1))},YJf=function(a,b){return(b?_.x(b):aKf(a)).pipe(_.y(c=>{c=a.tagFormGroupCreator(c,a.manualInputFormat===1);PHf(c);return c}),_.Le(1))},bKf=class extends _.gu{set defaultTagKeyParent$(a){this.defaultTagKeyParentStreamSubject$.next(a)}set tagKeyOrganizations$(a){this.tagKeyOrganizationsStreamSubject$.next(a)}set disallowDuplicateKeyReason(a){this.disallowDuplicateKeyReason$.next(a)}set disabledTagKeyOptionsMatcher(a){this.disabledTagKeyOptionsMatcher$.next(a)}constructor(a,
b,c,d,e,f){super();this.changeDetectorRef=a;this.dialog=b;this.defaultErrorStateMatcher=c;this.errorService=d;this.formBuilder=e;this.tagParentIdentifierService=f;this.destroy$=new _.We;this.ve={TagsEditDuplicateKeyError:214046,TagsEditParentInvalidInputError:214048,TagsEditValueInvalidInputError:214049,TagsEditKeyInvalidInputError:214047,TagsEditDuplicateValueError:148336,TagsEditKeyRequiredError:148334,TagsEditValuePositiveIntegerError:148337,TagsEditValueRequiredError:148335,TagsEditFormStack:148353,
TagsEditManualEntryInput:148354};this.tagFormGroupCreator=MGf;this.showErrorsForDuplicateKeys=!0;this.hideEditorOptions=!1;this.showKeyInput=!0;this.defaultTagKeyParentStreamSubject$=new _.gh(this.tagParentIdentifierService.orgIdForPurview$.pipe(_.y(g=>g?{id:g,resourceType:2}:void 0)));this.defaultTagKeyParentInternal$=this.defaultTagKeyParentStreamSubject$.pipe(_.E(g=>g),_.af({refCount:!0,bufferSize:1}));this.tagKeyOrganizationsStreamSubject$=new _.gh(_.HJf(this.tagParentIdentifierService));this.tagKeyOrganizationsInternal$=
this.tagKeyOrganizationsStreamSubject$.pipe(_.E(g=>g),_.af({refCount:!0,bufferSize:1}));this.disallowDuplicateKeyReason$=new _.gh;this.disabledTagKeyOptionsMatcher$=new _.gh;this.manualInputFormat=0;this.formStackFormArray=this.formBuilder.array([],[ZHf]);this.mainFormGroup=this.formBuilder.group({formStackFormArray:this.formStackFormArray});this.selectedKeyNames$=_.Wd(()=>{let g;return this.formStackFormArray.valueChanges.pipe(_.y(XHf),_.df(XHf((g=this.formStackFormArray.value)!=null?g:[])),_.af({refCount:!0,
bufferSize:1}))});this.selectedKeyNamespacedNames$=_.Wd(()=>{let g;return this.formStackFormArray.valueChanges.pipe(_.y(YHf),_.df(YHf((g=this.formStackFormArray.value)!=null?g:[])),_.af({refCount:!0,bufferSize:1}))});this.duplicateTagKeysDisabledMatcher$=_.Sd([this.selectedKeyNames$,this.selectedKeyNamespacedNames$,this.disallowDuplicateKeyReason$]).pipe(_.y(([g,n,q])=>{if(q!==void 0){var r=new Set(g),u=new Set(n);return v=>this.manualInputFormat===1?u.has(v.namespacedName)?q:void 0:v.name&&r.has(v.name)?
q:void 0}}));this.keyDisabledOptionsMatcher$=_.Sd([this.duplicateTagKeysDisabledMatcher$,this.disabledTagKeyOptionsMatcher$]).pipe(_.y(([g,n])=>q=>{let r;return(r=g==null?void 0:g(q))!=null?r:n==null?void 0:n(q)}));this.TagFormGroupType=cJf;this.tagValueErrorMatcher=ZJf(this);this.tagKeyErrorMatcher=$Jf(this);this.setUpOnChangeEventEmitter()}ngOnInit(){this.showErrorsForDuplicateKeys&&this.formStackFormArray.addValidators($Hf)}ngOnDestroy(){this.destroy$.next();this.destroy$.complete()}markAllAsTouched(){this.mainFormGroup.markAllAsTouched();
this.changeDetectorRef.detectChanges()}writeValue(a){this.onValueChangesSubscription.unsubscribe();this.onValueChangesSubscription=void 0;this.formStackFormArray.clear({emitEvent:!1});for(const b of a)PHf(b),this.formStackFormArray.push(b,{emitEvent:!1});this.formStackFormArray.updateValueAndValidity();this.setUpOnChangeEventEmitter();this.changeDetectorRef.detectChanges()}setUpOnChangeEventEmitter(){this.onValueChangesSubscription=this.formStackFormArray.valueChanges.pipe(_.ef(this.destroy$)).subscribe(()=>
{this.onChange(this.formStackFormArray.controls)})}validate(){return aGf(this.mainFormGroup).pipe(_.y(a=>a?{errors:!0}:null))}};bKf.\u0275fac=function(a){return new (a||bKf)(_.B(_.rm),_.B(_.wo),_.B(_.Co),_.B(_.zs),_.B(_.wr),_.B(_.IJf))};
bKf.\u0275cmp=_.D({type:bKf,selectors:[["tags-editor"]],contentQueries:function(a,b,c){a&1&&(_.mg(c,_.jU,7),_.mg(c,_.NJf,4),_.mg(c,_.OJf,4),_.mg(c,_.PJf,4));if(a&2){let d;_.ng(d=_.og())&&(b.formStackDescription=d.first);_.ng(d=_.og())&&(b.additionalFormStackInputs=d);_.ng(d=_.og())&&(b.valueDropdownCustomErrors=d);_.ng(d=_.og())&&(b.valueManualEntryCustomErrors=d)}},viewQuery:function(a,b){a&1&&_.lg(LJf,5);if(a&2){let c;_.ng(c=_.og())&&(b.formStack=c.first)}},inputs:{tagFormGroupCreator:"tagFormGroupCreator",
defaultTagKeyParent$:"defaultTagKeyParent$",tagKeyOrganizations$:"tagKeyOrganizations$",disallowDuplicateKeyReason:"disallowDuplicateKeyReason",showErrorsForDuplicateKeys:"showErrorsForDuplicateKeys",disabledTagKeyOptionsMatcher:"disabledTagKeyOptionsMatcher",externalTitleId:"externalTitleId",hideEditorOptions:"hideEditorOptions",addDisabledReason:"addDisabledReason",duplicateTagValueMatcher:"duplicateTagValueMatcher",duplicateTagKeyMatcher:"duplicateTagKeyMatcher",tagKeyOptionsFilterPredicate:"tagKeyOptionsFilterPredicate",
showKeyInput:"showKeyInput",manualInputFormat:"manualInputFormat"},standalone:!1,features:[_.xg([{provide:_.Wq,useExisting:_.Oc(()=>bKf),multi:!0},{provide:_.Yq,useExisting:_.Oc(()=>bKf),multi:!0}]),_.yf],decls:6,vars:5,consts:()=>[["duplicateTagValueError",""],["duplicateTagKeyError",""],["formStack",""],["addDisabledReasonTemplate",""],["deleteDisabledReason",""]," The tag parent must be a valid organization ID, project ID, or project number. "," Tag key required "," The tag key must be 1-256 characters, beginning with an alphanumeric character, and must not contain quotes ('), double quotes (\"), slashes (/), or backslashes (\\). ",
" Tag value required","tagValues/"," The tag value must be a valid numeric ID "," The tag value must be 1-256 characters, beginning with an alphanumeric character, and must not contain quotes ('), double quotes (\"), slashes (/), or backslashes (\\). "," \ufffd0\ufffd cannot be specified more than once\n"," Key \ufffd0\ufffd cannot be specified more than once\n",["class","cfc-max-width-full",3,"formGroup",4,"ngIf"],[1,"cfc-max-width-full",3,"formGroup"],["addButtonMessage","Add tag","formArrayName",
"formStackFormArray",1,"cfc-space-first",3,"onRowAddition","onRowAdditionRequested","onRowRemoval","externalTitleId","ve","veImpression","addDisabled","addDisabledTooltipMessage"],[4,"ngIf"],[3,"deleteButtonDisabled","deleteDisabledTooltipMessage","formGroupName",4,"ngFor","ngForOf"],[3,"tagFormReason"],[3,"ngTemplateOutlet"],[3,"deleteButtonDisabled","deleteDisabledTooltipMessage","formGroupName"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"disableResizing",4,"ngFor","ngForOf"],
["class","cfc-space-above-minus-5",3,"disableResizing",4,"ngIf"],["label","Parent"],["matInput","","placeholder","Organization ID, project ID, or project number","required","","formControlName","parent",3,"blur"],["matError","",3,"ve","veImpression",4,"cfcDebounceErrorFor"],["matError","",3,"ve","veImpression"],["label","Key"],["disabledTooltipPosition","left","formControlName","key","required","",3,"blur","disabledOptionsMatcher","optionsFilterPredicate","errorStateMatcher"],[1,"cfc-space-below-minus-3",
"cfc-break-word-wrap"],["matError","",3,"ve","veImpression",4,"cfcDebounceErrorIf"],["class","cfc-space-below-minus-3 cfc-break-word-wrap",4,"ngIf"],["class","tags-key-description",4,"ngIf"],[3,"tagKeyParent"],[1,"tags-key-description"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["label","Key"],["matInput","","cfcDisableTooltip","The key does not need to be provided since the tag value ID\n                                    uniquely identifies a key-value pair","disabledTooltipPosition","left",
3,"cfcDisable"],["label","Key"],["matInput","","placeholder","Key short name","required","","formControlName","keyShortName",3,"blur","errorStateMatcher"],["label","Value"],["formControlName","value","required","","disabledTooltipPosition","right",3,"blur","errorStateMatcher"],["ngProjectAs","mat-error",5,["mat-error"],4,"ngFor","ngForOf"],["ngProjectAs","mat-error",5,["mat-error"]],["label","Value"],["matInput","","placeholder","[tagvalue ID]","required","","formControlName","valueId",3,"blur","ve",
"veInputText","errorStateMatcher"],["matTextPrefix",""],["label","Value"],["matInput","","placeholder","Value short name","required","","formControlName","valueShortName",3,"blur","errorStateMatcher"],[3,"disableResizing"],[1,"cfc-space-above-minus-5",3,"disableResizing"],[3,"manualEntryRequested","keyValueDropdownRequested","tagFormGroup","organizations"]],template:function(a,b){a&1&&(_.F(0,UHf,7,8,"form",14),_.V(1,"async"),_.F(2,VHf,2,3,"ng-template",null,0,_.Jg)(4,WHf,1,1,"ng-template",null,1,
_.Jg));a&2&&_.G("ngIf",_.zg(3,MJf,_.W(1,1,b.defaultTagKeyParentInternal$)))},dependencies:[_.ds,_.hs,_.zm,_.Am,_.Em,_.Bm,_.Cm,_.Kw,_.fw,_.Cz,_.xz,_.Dz,_.zz,_.Az,_.qu,_.ru,_.ou,_.Uq,_.Sq,_.Rq,_.Hw,_.qw,_.lu,_.ku,_.Jw,_.fU,_.jr,_.qj,_.br,_.cr,_.qr,_.mr,_.pr,_.nr,_.or,_.iJf,sJf,zJf,JJf,_.Fm,QJf,RJf,SJf,UJf,TJf,VJf,WJf,_.JFf,_.KFf],encapsulation:2,changeDetection:0});_.kU=class{};_.kU.\u0275fac=function(a){return new (a||_.kU)};_.kU.\u0275mod=_.ye({type:_.kU});_.kU.\u0275inj=_.Dc({imports:[_.js,_.Jm,_.Lw,_.nw,_.Ez,_.OB,_.ip,_.ms,_.Mo,_.su,_.mu,_.zJ,_.Pu,_.cT,_.gU,_.yr,_.cU,_.iU,uJf,DJf,BJf,_.Cu]});var cKf=class{};cKf.\u0275fac=function(a){return new (a||cKf)};cKf.\u0275mod=_.ye({type:cKf});cKf.\u0275inj=_.Dc({imports:[_.pD]});
var dKf=class{constructor(a,b){this.scopeService=a;this.purviewPickerService=b}openPurviewPicker(a){const b=this;return _.Kd(function*(){var c=a.currentOrganizationId?yield _.Nd(_.FFf(b.scopeService,a.currentOrganizationId).pipe(_.y(f=>f.type===0?f.organization:null))):null;const d=a.currentProjectId?yield _.Nd(b.scopeService.getProject(a.currentProjectId).pipe(_.y(f=>f.type===0?f.project:null))):null;let e;if(c=(e=yield _.Nd(_.nD(b.purviewPickerService,function(f){f=dIf(f);return!f||f.resourceType===
2&&f.id==="0"?_.x("This resource cannot contain tags"):a.currentTagKeyParentTreeResourceIds.has(_.Off(f))?_.x("Resource has already been selected"):_.x(null)},d!=null?d:c,c,!0)))==null?void 0:e.resource)return dIf(c)})}};dKf.\u0275fac=function(a){return new (a||dKf)(_.l(_.GFf),_.l(_.oD))};dKf.\u0275prov=_.k({token:dKf,factory:dKf.\u0275fac,providedIn:cKf});var eKf=class{constructor(a,b,c){this.dialogRef=b;this.formBuilder=c;this.ResourceType=_.dLb;this.resourceType$=new _.We(1);this.destroy$=new _.We;this.ve={TagKeyParentManualEntryDialogCancel:161943,TagKeyParentManualEntryDialogSave:161944,TagKeyParentManualEntryInput:161940,TagKeyParentManualEntryOrganizationIdTab:161941,TagKeyParentManualEntryProjectIdTab:161942};this.tabIndex$=this.resourceType$.pipe(_.y(d=>{switch(d){case 2:return 0;case 0:return 1;default:_.Ta(d,"invalid tag key parent resource type")}}));
this.templateData$=this.tabIndex$.pipe(_.hf(this.resourceType$),_.y(([d,e])=>({tabIndex:d,resourceType:e})));this.form=this.formBuilder.group({tagKeyParentId:""});this.resourceType$.pipe(_.ef(this.destroy$)).subscribe(d=>{let e;(e=this.form.get("tagKeyParentId"))==null||e.setValue("",{emitEvent:!1});let f;(f=this.form.get("tagKeyParentId"))==null||f.setValidators([_.Zq,wIf(d)]);let g;(g=this.form.get("tagKeyParentId"))==null||g.updateValueAndValidity()});this.resourceType$.next(a.resourceType)}ngOnDestroy(){this.destroy$.next();
this.destroy$.complete()}onSave(a){this.form.updateValueAndValidity();this.form.markAllAsTouched();if(this.form.valid){var b;this.dialogRef.close({id:(b=this.form.get("tagKeyParentId"))==null?void 0:b.value,resourceType:a})}}onTabChange(a){switch(a){case 0:this.resourceType$.next(2);break;case 1:this.resourceType$.next(0);break;default:_.Ta(a,"invalid tab index type")}}onCancel(){this.dialogRef.close()}};eKf.\u0275fac=function(a){return new (a||eKf)(_.B(_.vo),_.B(_.uo),_.B(_.vr))};
eKf.\u0275cmp=_.D({type:eKf,selectors:[["tag-key-parent-manual-entry"]],standalone:!1,decls:2,vars:3,consts:()=>[["tabContent",""],"Cancel"," Save "," Enter organization ID "," Enter project ID "," Enter the ID of an organization to select tag keys from it. "," Enter the ID of a project to select tag keys from it. "," Organization ID "," Project ID "," An organization ID is required. "," A project ID is required. "," The format of the organization ID is invalid. "," The format of the project ID is invalid. ",
[4,"ngIf"],["matDialogTitle","","tabindex","-1",3,"ngSwitch"],[4,"ngSwitchCase"],["matDialogContent",""],[1,"cfc-width-full","cfc-mat-tab-expand-content",3,"selectedIndexChange","selectedIndex"],["label","Organization ID",3,"ve","veClick"],[4,"ngTemplateOutlet"],["label","Project ID",3,"ve","veClick"],["matDialogActions",""],["mat-button","","color","primary",3,"click","ve","veClick"],[1,"cfc-space-above-minus-1",3,"ngSwitch"],[1,"cfc-spacing-2",3,"formGroup"],["floatLabel","always"],[3,"ngSwitch"],
["matInput","","required","","formControlName","tagKeyParentId",3,"placeholder","ve","veInputText"],["matError","",3,"ngSwitch",4,"cfcDebounceErrorFor"],["matTextPrefix","",3,"ngSwitch"],["matError","",3,"ngSwitch"]],template:function(a,b){a&1&&(_.F(0,vIf,17,15,"ng-container",13),_.V(1,"async"));a&2&&_.G("ngIf",_.W(1,1,b.templateData$))},dependencies:()=>[_.ds,_.hs,_.ls,_.Gp,_.cs,_.Am,_.Em,_.Bm,_.Cm,_.Kw,_.yo,_.Ao,_.zo,_.qu,_.ru,_.ou,_.Uq,_.Sq,_.Hw,_.qw,_.lu,_.ku,_.Jw,_.dt,_.Oq,_.Pq,_.ct,_.jr,_.qj,
_.br,_.cr,_.qr,_.mr,_.pr,_.Fm,fKf],encapsulation:2});var fKf=class{transform(a){switch(a){case 0:return"[project ID]";case 2:return"[organization ID]";default:_.Ta(a,"invalid tag key parent resource type")}}};fKf.\u0275fac=function(a){return new (a||fKf)};fKf.\u0275pipe=_.Ae({name:"tagKeyParentIdPlaceholder",type:fKf,pure:!0,standalone:!1});var gKf,IIf,AIf,DIf,KIf,OIf,SIf,jKf,hKf,VIf,kKf;gKf=["tagsEditor"];IIf=()=>[];AIf=(a,b)=>({index:a,group:b});DIf=a=>({error:a});KIf=function(a){return _.Kd(function*(){const b=yield _.Nd(a.currentTagKeyParentTreeResourceIds$);var c=yield _.Nd(a.currentOrgId$);const d=yield _.Nd(a.currentProjectId$);(c=yield a.purviewPickerService.openPurviewPicker({currentTagKeyParentTreeResourceIds:b,currentOrganizationId:c,currentProjectId:d}))&&hKf(a,c,b)})};
OIf=function(a,b){a.tagEditorsFormArray.push(new iKf(b,[a.tagFormGroupCreator(b)]));VIf(a)};SIf=function(a,b){a.dialog.open(eKf,{data:{resourceType:b},disableClose:!0,width:"400px"}).afterClosed().pipe(_.ef(a.destroy$),_.fe(_.Dj),_.hf(a.currentTagKeyParentTreeResourceIds$)).subscribe(([c,d])=>{hKf(a,c,d)})};jKf=function(a,b){return a.scopeService.getProject(b).pipe(_.y(c=>{switch(c.type){case 0:return c.project.projectNumber;case 1:case 2:return b;default:return b}}))};
hKf=function(a,b,c){(b.resourceType===0?jKf(a,b.id).pipe(_.y(d=>Object.assign({},b,{id:d!=null?d:b.id}))):_.x(b)).pipe(_.Re(),_.ef(a.destroy$)).subscribe(d=>{if(c.has(_.Off(d))){var e=a.snackbarService,f=e.open;a:{d=d.resourceType;switch(d){case 2:d="Organization already added";break a;case 0:d="Project already added";break a;default:_.Ta(d,"invalid tag key parent resource type")}d=void 0}f.call(e,d)}else OIf(a,d)})};
VIf=function(a){a.changeDetectorRef.detectChanges();a.onTouched();_.hu(a.zoneHelper,()=>{let b;if((b=a.tagsEditors)!=null){let c;(c=b.last.formStack)==null||c.rows.last.focusFirstFocusableElement()}})};kKf=function(a){const b=a.tagEditorsFormArray.controls,c=b.filter(d=>d.value.length>0);if(c.length!==b.length){a.tagEditorsFormArray.clear({emitEvent:!1});for(const d of c)a.tagEditorsFormArray.push(d,{emitEvent:!1});a.tagEditorsFormArray.updateValueAndValidity();a.changeDetectorRef.detectChanges()}};
_.lU=class extends _.gu{set addDisabledReason(a){this.addDisabledReason$.next(a)}get addDisabledReason(){return this.addDisabledReason$.getValue()}set currentOrganizationId(a){this.currentOrgIdStreamSubject$.next(_.x(a))}set currentProjectId(a){this.currentProjectIdStreamSubject$.next(_.x(a))}constructor(a,b,c,d,e,f,g,n,q){super();this.changeDetectorRef=a;this.dialog=b;this.formBuilder=c;this.purviewPickerService=d;this.purviewService=e;this.scopeService=f;this.snackbarService=g;this.tagParentIdentifierService=
n;this.zoneHelper=q;this.ve={TagsEditorV2Form:160407,TagsEditorV2KeyParentButton:160732,TagsEditorV2PurviewPickerButton:162143,TagsEditorV2ManualEntryMenuItem:162212,TagsEditorV2OrganizationIdMenuItem:162225,TagsEditorV2ProjectIdMenuItem:162226,TagsEditorV2CurrentOrganizationMenuItem:164759,TagsEditorV2CurrentProjectMenuItem:164760};this.destroy$=new _.We;this.tagFormGroupCreator=MGf;this.showErrorsForDuplicateKeys=!0;this.addDisabledReason$=new _.gh;this.currentOrgIdStreamSubject$=new _.gh(this.tagParentIdentifierService.orgIdForPurview$);
this.currentOrgId$=this.currentOrgIdStreamSubject$.pipe(_.E(r=>r),_.af({refCount:!0,bufferSize:1}));this.currentProjectIdStreamSubject$=new _.gh(this.purviewService.getCurrentProject().pipe(_.y(r=>r?r.id:void 0)));this.currentProjectId$=this.currentProjectIdStreamSubject$.pipe(_.E(r=>r),_.af({refCount:!0,bufferSize:1}));this.currentProjectNumberOrId$=this.currentProjectId$.pipe(_.E(r=>r===void 0?_.x(void 0):jKf(this,r)));this.manualInputFormat=0;this.tagEditorsFormArray=this.formBuilder.array([],
[XIf]);this.mainFormGroup=this.formBuilder.group({tagEditorsFormArray:this.tagEditorsFormArray});this.ResourceType=_.dLb;this.hasManualEntry$=_.Wd(()=>this.tagEditorsFormArray.valueChanges.pipe(_.df(this.tagEditorsFormArray.value),_.y(()=>this.tagEditorsFormArray.controls.map(r=>r).some(r=>r.tagFormGroupType===1||r.tagFormGroupType===2))));this.currentTagKeyParentTreeResourceIds$=_.Wd(()=>this.tagEditorsFormArray.valueChanges.pipe(_.df(this.tagEditorsFormArray.value),_.y(()=>new Set(this.tagEditorsFormArray.controls.map(r=>
this.toTagKeyParentPipe.transform(r)).filter(_.Dj).map(_.Off)))));this.menuData$=_.Sd([this.hasManualEntry$,this.addDisabledReason$,this.currentProjectNumberOrId$,this.currentOrgId$,this.currentTagKeyParentTreeResourceIds$]).pipe(_.y(([r,u,v,z,C])=>{r=r?{toStringReason:()=>"Manual tag entry selected"}:u;const J=[];if(z){const I=C.has(_.aj(z,2));J.push({tagKeyParent:{id:z,resourceType:2},disabledReason:I?{toStringReason:()=>"Current organization selected"}:u,itemLabel:"Select current organization",
itemNote:"Select tags from the current organization",veId:this.ve.TagsEditorV2CurrentOrganizationMenuItem})}v&&(z=C.has(_.aj(v,0)),J.push({tagKeyParent:{id:v,resourceType:0},disabledReason:z?{toStringReason:()=>"Current project selected"}:u,itemLabel:"Select current project",itemNote:"Select tags from the current project",veId:this.ve.TagsEditorV2CurrentProjectMenuItem}));return{manualEntry:{disabledReason:r},currentScopeItems:J}}));this.toTagKeyParentPipe=new lKf;this.setUpOnChangeEventEmitter()}ngOnInit(){this.showErrorsForDuplicateKeys&&
this.tagEditorsFormArray.addValidators(YIf)}ngOnDestroy(){this.destroy$.next();this.destroy$.complete()}markAllAsTouched(){let a;(a=this.tagsEditors)==null||a.forEach(b=>{b.markAllAsTouched()})}validate(){const a=[];let b;(b=this.tagsEditors)==null||b.forEach(c=>{a.push(c.validate())});a.push(aGf(this.tagEditorsFormArray));return _.Sd(a).pipe(_.y(c=>c.every(d=>d===null)?null:{errors:!0}))}writeValue(a){this.onValueChangesSubscription.unsubscribe();this.onValueChangesSubscription=void 0;const {manualEntryGroups:b,
keyParentFormGroups:c,namespacedManualEntryGroups:d}=kGf(a),e=[];c.forEach(({tagKeyParent:f,formGroups:g})=>{e.push(new iKf(f,g))});b.length>0&&e.push(new UIf(b));d.length>0&&e.push(new TIf(d));this.tagEditorsFormArray.clear({emitEvent:!1});for(const f of e)this.tagEditorsFormArray.push(f,{emitEvent:!1});this.tagEditorsFormArray.updateValueAndValidity();this.setUpOnChangeEventEmitter();this.changeDetectorRef.detectChanges()}setUpOnChangeEventEmitter(){this.onValueChangesSubscription=this.tagEditorsFormArray.valueChanges.pipe(_.ef(this.destroy$)).subscribe(()=>
{const a=[];this.tagEditorsFormArray.controls.forEach(b=>{a.push(...b.value)});this.onChange(a);kKf(this)})}};_.lU.\u0275fac=function(a){return new (a||_.lU)(_.B(_.rm),_.B(_.wo),_.B(_.wr),_.B(dKf),_.B(_.Uj),_.B(_.GFf),_.B(_.qz),_.B(_.IJf),_.B(_.Aq))};
_.lU.\u0275cmp=_.D({type:_.lU,selectors:[["tags-editor-v2"]],contentQueries:function(a,b,c){a&1&&(_.mg(c,_.jU,7),_.mg(c,_.NJf,4),_.mg(c,_.OJf,4),_.mg(c,_.PJf,4));if(a&2){let d;_.ng(d=_.og())&&(b.formStackDescription=d.first);_.ng(d=_.og())&&(b.additionalFormStackInputs=d);_.ng(d=_.og())&&(b.valueDropdownCustomErrors=d);_.ng(d=_.og())&&(b.valueManualEntryCustomErrors=d)}},viewQuery:function(a,b){a&1&&_.lg(gKf,5);if(a&2){let c;_.ng(c=_.og())&&(b.tagsEditors=c)}},inputs:{tagFormGroupCreator:"tagFormGroupCreator",
disallowDuplicateKeyReason:"disallowDuplicateKeyReason",showErrorsForDuplicateKeys:"showErrorsForDuplicateKeys",disabledTagKeyOptionsMatcher:"disabledTagKeyOptionsMatcher",addDisabledReason:"addDisabledReason",currentOrganizationId:"currentOrganizationId",currentProjectId:"currentProjectId",tagKeyOptionsFilterPredicate:"tagKeyOptionsFilterPredicate",manualInputFormat:"manualInputFormat"},standalone:!1,features:[_.xg([{provide:_.Wq,useExisting:_.Oc(()=>_.lU),multi:!0},{provide:_.Yq,useExisting:_.Oc(()=>
_.lU),multi:!0}]),_.yf],decls:10,vars:8,consts:()=>[["addDisabledReasonTemplate",""],["menu",""],["manualEntryHeader",""],["tagsEditor",""],["manualEntryMenu",""],["manuallyEnteredTagsDisabledReasonTemplate",""],["currentScopeDisabledReasonTemplate",""]," Manual Entry "," Select scope ",[3,"ngTemplateOutlet",4,"ngIf"],[1,"cfc-max-width-full",3,"formGroup","ve","veImpression"],["formArrayName","tagEditorsFormArray"],[4,"ngFor","ngForOf"],["class","cfc-space-below-minus-2 cfc-align-right",3,"menuTemplate",
"menuTemplateData","raised",4,"ngIf"],[3,"ngTemplateOutlet"],["data-test-id","tags-editor-v2-fieldset",1,"cfc-border-primary","cfc-gutter-minus-2","cfc-space-below-minus-2"],["data-test-id","tags-editor-v2-fieldset-legend",1,"cfc-text-title-4",3,"id"],[3,"tagKeyParent","showInaccessibleTooltip",4,"ngIf","ngIfElse"],[3,"externalTitleId","formControlName","hideEditorOptions","addDisabledReason","showErrorsForDuplicateKeys","duplicateTagValueMatcher","duplicateTagKeyMatcher","tagFormGroupCreator","defaultTagKeyParent$",
"tagKeyOptionsFilterPredicate","tagKeyOrganizations$","showKeyInput","disallowDuplicateKeyReason","disabledTagKeyOptionsMatcher","manualInputFormat"],[3,"tagKeyParent","showInaccessibleTooltip"],["tagsEditorFormStackInput","",3,"tagsEditorFormStackInputDisableResizing"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"valueDropdownCustomErrorName","errorVeId"],[3,"valueManualEntryCustomErrorName","errorVeId"],[1,"cfc-space-below-minus-2","cfc-align-right",3,"menuTemplate","menuTemplateData","raised"],
["type","button","data-test-id","tags-editor-v2-purview-picker-button","id","tags-editor-purview-picker-button","mat-button","",3,"click","ve","veClick","cfcDisable","cfcDisableTooltip","cfcDisableTooltipRich"],[3,"tagFormReason"],["ariaLabelledby","tags-editor-purview-picker-button","menuPanelClass","cfc-width-small"],["header","Current scope",3,"hasSeparator",4,"ngIf"],["header","Manual entry"],["label","Manually enter IDs","id","tags-editor-manual-entry-menu-item","note","Manually enter the IDs of organizations, projects or tags",
3,"cfcMenuTriggerFor"],["ariaLabelledby","tags-editor-manual-entry-menu-item"],["header","Manually enter IDs"],["label","Organization",3,"click","ve","veClick","cfcDisable","cfcDisableTooltip","cfcDisableTooltipRich"],["label","Project",3,"click","ve","veClick","cfcDisable","cfcDisableTooltip","cfcDisableTooltipRich"],["label","Tags",3,"click","ve","veClick","cfcDisable","cfcDisableTooltip","cfcDisableTooltipRich"],["header","Current scope",3,"hasSeparator"],[3,"click","label","note","ve","veClick",
"cfcDisable","cfcDisableTooltip","cfcDisableTooltipRich"]],template:function(a,b){a&1&&(_.F(0,xIf,1,1,"ng-container",9),_.H(1,"form",10)(2,"div",11),_.F(3,JIf,20,46,"ng-container",12)(4,LIf,3,8,"cfc-split-button",13),_.V(5,"async"),_.K()(),_.F(6,MIf,1,1,"ng-template",null,0,_.Jg)(8,WIf,12,17,"ng-template",null,1,_.Jg));a&2&&(_.G("ngIf",b.formStackDescription),_.A(),_.G("formGroup",b.mainFormGroup)("ve",b.ve.TagsEditorV2Form)("veImpression",!0),_.A(2),_.G("ngForOf",b.tagEditorsFormArray.controls),
_.A(),_.G("ngIf",_.W(5,6,b.menuData$)))},dependencies:()=>[_.ds,_.hs,_.zm,_.Am,_.Em,_.ls,_.Gp,_.cs,_.Nv,_.gw,_.Lu,_.Ju,_.Ku,_.Ou,_.fU,_.jr,_.br,_.cr,_.mr,_.pr,_.or,_.mx,_.OJf,_.PJf,_.NJf,bKf,_.iJf,_.Fm,mKf,nKf,oKf,pKf,lKf],encapsulation:2,changeDetection:0});
var iKf=class extends _.QE{constructor(a,b){super(b);this.keyParent=a;this.tagFormGroupType=0}getTagKeyParent(){return this.keyParent}},UIf=class extends _.QE{constructor(){super(...arguments);this.tagFormGroupType=1}},TIf=class extends _.QE{constructor(){super(...arguments);this.tagFormGroupType=2}},lKf=class{transform(a){if(a instanceof iKf)return a.getTagKeyParent()}};lKf.\u0275fac=function(a){return new (a||lKf)};lKf.\u0275pipe=_.Ae({name:"toTagKeyParent",type:lKf,pure:!0,standalone:!1});
var nKf=class{transform(a){return a instanceof iKf||a instanceof TIf}};nKf.\u0275fac=function(a){return new (a||nKf)};nKf.\u0275pipe=_.Ae({name:"showTagKey",type:nKf,pure:!0});var pKf=class{transform(a){return _.x(a)}};pKf.\u0275fac=function(a){return new (a||pKf)};pKf.\u0275pipe=_.Ae({name:"observableOf",type:pKf,pure:!0,standalone:!1});var oKf=class{transform(a,b){return a.statusChanges.pipe(_.y(()=>c=>b===1?QGf(a.errors,c):OGf(a.errors,c)))}};oKf.\u0275fac=function(a){return new (a||oKf)};
oKf.\u0275pipe=_.Ae({name:"duplicateTagValueMatcher",type:oKf,pure:!0,standalone:!1});var mKf=class{transform(a){return a.statusChanges.pipe(_.y(()=>b=>SGf(a.errors,b)))}};mKf.\u0275fac=function(a){return new (a||mKf)};mKf.\u0275pipe=_.Ae({name:"duplicateTagKeyMatcher",type:mKf,pure:!0});_.mU=class{};_.mU.\u0275fac=function(a){return new (a||_.mU)};_.mU.\u0275mod=_.ye({type:_.mU});_.mU.\u0275inj=_.Dc({imports:[_.js,_.Jm,_.ms,_.nw,_.OB,_.Mo,_.Pu,_.gU,_.yr,_.qA,_.nx,_.cU,_.kU,cKf,_.iU]});
}catch(e){_._DumpException(e)}
try{
_.jPf=function(a,b,c){const d={id:"CreateConnectionSubtaskComponent"};if(a||b||c)d.data={connection:a,parentProject:b,locationRestriction:c};return d};_.kPf={moduleId:"pm_create_connection_subtask",className:"CreateConnectionSubtaskComponent"};
}catch(e){_._DumpException(e)}
try{
_.lPf=function(a,b,c){const d={id:"CreateConnectionSubtaskV2Component"};if(a||b||c)d.data={connection:a,parentProject:b,locationRestriction:c};return d};_.mPf={moduleId:"pm_create_connection_subtask_v2",className:"CreateConnectionSubtaskV2Component"};
}catch(e){_._DumpException(e)}
try{
var qKf,rKf,sKf,tKf,uKf,xKf,yKf;qKf=function(a){a&1&&_.L(0,"span")};rKf=function(a){a&1&&_.O(0,5)};sKf=function(a){a&1&&_.O(0,6)};tKf=function(a,b){a&1&&(_.H(0,"mat-option",17),_.S(1),_.K());a&2&&(a=b.$implicit,_.G("value",a.value),_.A(),_.U(" ",a.displayName," "))};uKf=function(a){a&1&&(_.H(0,"cm-error",18),_.O(1,7),_.K())};
_.vKf=function(a,b){let c=!1,d=void 0;b!==void 0&&b!==null&&(c=!0,d=b===""?"empty":b);b=a.control({value:c,disabled:!!d});const e=a.control({value:d,disabled:!c},[_.Zq]);b.valueChanges.subscribe(f=>{f?e.enable():e.disable()});return a.group({collation:e,hasDefaultCollation:b})};_.wKf=function(a){let b;if((b=a.get("hasDefaultCollation"))==null?0:b.value){let c;a=(c=a.get("collation"))==null?void 0:c.value;return a==="empty"?"":a}};xKf=function(a){a&1&&(_.H(0,"div",5)(1,"span",9),_.O(2,2),_.K()())};
yKf=function(a,b){a&1&&(_.H(0,"mat-option",10),_.S(1),_.K());a&2&&(a=b.$implicit,b=_.Q(),_.G("value",a),_.A(),_.U(" ",a==="ROUNDING_MODE_UNSPECIFIED"&&b.bigqueryDatasetCreationOptionalSettingsEnabled?"Default":a," "))};_.zKf=function(a,b){let c=void 0;b!==void 0&&b!==null&&(c=b===void 0?"ROUNDING_MODE_UNSPECIFIED":b);b=a.control({value:c,disabled:!1},[]);return a.group({defaultRoundingMode:b})};
_.AKf=function(a){let b;a=(b=a.get("defaultRoundingMode"))==null?void 0:b.value;if(typeof a!=="object"||(a==null?void 0:a.value)!==void 0)return a};_.BKf=function(a){if(a.controls.key&&a.controls.value){if(a=_.jGf(a))return{key:a.keyNamespacedName,value:a.shortName}}else if(a.tagFormGroupType===2){let b,c,d;return{key:(c=(b=a.getTagKey())==null?void 0:b.namespacedName)!=null?c:"",value:(d=a.controls.valueShortName.value)!=null?d:""}}return{key:"",value:""}};
_.CKf=class{constructor(){this.isTable=!1;this.defaultCollationOptions=[{displayName:"[empty] (case sensitive)",value:"empty"},{displayName:"und:ci (case insensitive)",value:"und:ci"}]}};_.CKf.\u0275fac=function(a){return new (a||_.CKf)};
_.CKf.\u0275cmp=_.D({type:_.CKf,selectors:[["bq-collation-picker"]],inputs:{isTable:"isTable"},standalone:!1,features:[_.xg([],[_.Bw])],decls:17,vars:6,consts:()=>[["tableHelperText",""],["datasetHelperText",""]," Default Collation\n"," Enable default collation ","Default Collation"," If checked, user must select default collation. Default collation can be created or altered later. User cannot disable default collation once it is enabled. If unchecked, default collation will inherit the setting from the dataset. ",
" If checked, user must select default collation. Default collation can be created or altered later. User cannot disable default collation once it is enabled. If unchecked, default collation will have case-sensitive behavior. "," Collation is required. ",[1,"cfc-text-title-4"],[1,"cfc-form-control-wrapper"],["formControlName","hasDefaultCollation"],["ariaLabel","Help with enable default collation",1,"cfc-form-control-suffix","cfc-button-small"],[4,"ngIf","ngIfThen","ngIfElse"],["id","default-collation-label"],
["cfcDisableTooltip","No default collation","aria-labelledby","default-collation-label","formControlName","collation","optionsAriaLabel","Default collation options",3,"isRequired"],[3,"value",4,"ngFor","ngForOf"],["matError","",4,"cfcDebounceErrorFor"],[3,"value"],["matError",""]],template:function(a,b){a&1&&(_.H(0,"p",8),_.O(1,2),_.K(),_.H(2,"div",9)(3,"mat-checkbox",10),_.O(4,3),_.K(),_.H(5,"cfc-help-button",11),_.F(6,qKf,1,0,"span",12)(7,rKf,1,0,"ng-template",null,0,_.Jg)(9,sKf,1,0,"ng-template",
null,1,_.Jg),_.K()(),_.H(11,"mat-form-field")(12,"mat-label",13),_.O(13,4),_.K(),_.H(14,"cfc-select",14),_.F(15,tKf,2,2,"mat-option",15),_.K(),_.F(16,uKf,2,0,"cm-error",16),_.K());if(a&2){a=_.Zf(8);const c=_.Zf(10);_.A(6);_.G("ngIf",b.isTable)("ngIfThen",a)("ngIfElse",c);_.A(8);_.G("isRequired",!0);_.A();_.G("ngForOf",b.defaultCollationOptions);_.A();_.G("cfcDebounceErrorFor","required")}},dependencies:()=>[_.ds,_.du,_.eu,_.bu,_.ku,_.Jw,_.lu,_.Uq,_.Sq,_.Hw,_.gv,_.Kw,_.MB,_.uw,_.zm,_.Am,_.br,_.pr,
_.ev,_.Ho,_.jv],encapsulation:2,changeDetection:0});_.DKf=class{};_.DKf.\u0275fac=function(a){return new (a||_.DKf)};_.DKf.\u0275mod=_.ye({type:_.DKf});_.DKf.\u0275inj=_.Dc({imports:[_.nw,_.js,_.fu,_.mu,_.Lw,_.OB,_.vw,_.yr,_.zw]});_.EKf=new _.nn("45660236");_.FKf=class{constructor(){this.isUpdate=this.isTable=!1;this.MSG_DEFAULT_ROUNDING_MODE_HELP_TEXT="The dataset default rounding mode will be applied to any new table created within this dataset. Default rounding mode can be created or altered later.";this.bigqueryDatasetCreationOptionalSettingsEnabled=_.vh(_.EKf)}get defaultRoundingModeOptions(){return this.isUpdate?Object.keys(_.Vhc).filter(a=>a!=="ROUNDING_MODE_UNSPECIFIED"):Object.keys(_.Vhc)}};_.FKf.\u0275fac=function(a){return new (a||_.FKf)};
_.FKf.\u0275cmp=_.D({type:_.FKf,selectors:[["bq-default-rounding-mode-picker"]],inputs:{isTable:"isTable",isUpdate:"isUpdate"},standalone:!1,features:[_.xg([],[_.Bw])],decls:10,vars:3,consts:()=>[" Default Rounding Mode \ufffd#2\ufffd\ufffd#3\ufffd \ufffd0\ufffd \ufffd/#3\ufffd\ufffd/#2\ufffd","Default Rounding Mode"," If not set, the table default rounding mode will be inherited from the dataset and will apply to all DECIMAL (numeric and bignumeric) columns created. This setting can be created or altered later and if altered, will only apply to columns added after the setting is changed. ",
[1,"cfc-text-title-4"],["ariaLabel","Time travel window helper text",1,"cfc-form-control-suffix","cfc-button-small"],[1,"cfc-form-control-wrapper"],["id","default-rounding-mode-label"],["aria-labelledby","default-rounding-mode-label","formControlName","defaultRoundingMode"],[3,"value",4,"ngFor","ngForOf"],["id","default-rounding-mode-help-text",1,"cfc-text-caption","cfc-space-last"],[3,"value"]],template:function(a,b){a&1&&(_.H(0,"p",3),_.Tf(1,0),_.H(2,"cfc-help-button",4),_.L(3,"span"),_.K(),_.Uf(),
_.K(),_.F(4,xKf,3,0,"div",5),_.H(5,"mat-form-field")(6,"mat-label",6),_.O(7,1),_.K(),_.H(8,"cfc-select",7),_.F(9,yKf,2,2,"mat-option",8),_.K()());a&2&&(_.A(3),_.Wf(b.MSG_DEFAULT_ROUNDING_MODE_HELP_TEXT),_.Xf(1),_.A(),_.Lf(b.isTable?4:-1),_.A(5),_.G("ngForOf",b.defaultRoundingModeOptions))},dependencies:()=>[_.ds,_.ku,_.lu,_.Uq,_.Sq,_.gv,_.uw,_.zm,_.br,_.pr,_.ev,_.Ho,_.jv],encapsulation:2,changeDetection:0});_.GKf=class{};_.GKf.\u0275fac=function(a){return new (a||_.GKf)};_.GKf.\u0275mod=_.ye({type:_.GKf});
_.GKf.\u0275inj=_.Dc({imports:[_.nw,_.js,_.mu,_.vw,_.yr,_.zw]});_.HKf=class{toStringReason(){return"This key has been already selected"}};
}catch(e){_._DumpException(e)}
try{
var nPf,oPf,qPf;nPf=function(a,b){a&1&&(_.H(0,"mat-option",1),_.S(1),_.V(2,"connectionDisplayName"),_.K());a&2&&(a=b.$implicit,_.G("value",a),_.A(),_.U(" ",_.W(2,2,a)," "))};oPf=function(a){a&1&&(_.H(0,"cm-error",6)(1,"mat-label"),_.S(2),_.K()());a&2&&(a=_.Q(),_.A(2),_.rg(a.fieldRequiredErrorText))};_.pPf=function(a,b=null,c=[]){return a.group({connection:[b,c]})};qPf=class{transform(a){const {locationId:b,connectionId:c}=_.dB(a.name);return`${b}.${c}`}};qPf.\u0275fac=function(a){return new (a||qPf)};
qPf.\u0275pipe=_.Ae({name:"connectionDisplayName",type:qPf,pure:!0,standalone:!1});var rPf,sPf;rPf=()=>["bigquery.connections.list"];sPf=function(a){return a.aws?"AWS":a.azure?"AZURE":a.cloudResource?"Cloud resource":"UNSPECIFIED"};
_.tPf=class{set projectId(a){this.projectId$.next(a)}set locationId(a){this.locationId$.next(a)}get isRequired(){return _.pj(this.connectionControl._rawValidators,_.Zq)}get connectionControl(){return this.parentFormGroupName.control.get("connection")}constructor(a,b,c){this.parentFormGroupName=a;this.connectionsFacadeService=b;this.subtaskService=c;this.connectionPreset={};this.createConnectionOptionValue="bqui-create-connection-option-value";this.projectId$=new _.We(1);this.locationId$=new _.We(1);
this.refreshConnections$=new _.We(1);this.connections$=_.x([]);this.connections$=_.Sd([this.projectId$,this.locationId$,this.refreshConnections$]).pipe(_.E(([d,e])=>d?this.connectionsFacadeService.listConnections({projectId:d,locationId:e}).pipe(_.Be(()=>_.x([])),_.y(f=>{const g=sPf(this.connectionPreset);return g==="UNSPECIFIED"?f:f.filter(n=>sPf(n)===g)}),_.gf(f=>{f.length>0&&this.connectionControl.value===null&&this.connectionControl.setValue(f[0])})):_.x([])));this.refreshConnections$.next()}createConnection(){const a=
_.vh(_.zU);this.projectId$.pipe(_.Le(1),_.y(b=>a?_.lPf(this.connectionPreset,b):_.jPf(this.connectionPreset,b)),_.E(b=>this.subtaskService.open(a?_.mPf:_.kPf,b))).subscribe(b=>{b.onAccept.subscribe(()=>{this.refreshConnections$.next()})})}};_.tPf.\u0275fac=function(a){return new (a||_.tPf)(_.B(_.nr),_.B(_.ST),_.B(_.HB))};
_.tPf.\u0275cmp=_.D({type:_.tPf,selectors:[["bq-create-table-connection-picker"]],inputs:{label:"label",newConnectionPrimary:"newConnectionPrimary",newConnectionSecondary:"newConnectionSecondary",fieldRequiredErrorText:"fieldRequiredErrorText",projectId:"projectId",locationId:"locationId",connectionPreset:"connectionPreset"},standalone:!1,features:[_.xg([],[_.Aw])],decls:9,vars:11,consts:[["aria-labelledby","connection-label","formControlName","connection","cfcDisable","","cfcDisableTooltip","Connection selection is only enabled for contexts that require a connection",
3,"change","cfcIamCheck","isRequired"],[3,"value"],[3,"primary","secondary"],[3,"value",4,"ngFor","ngForOf"],["id","connection-label"],["matError","",4,"cfcDebounceErrorFor"],["matError",""]],template:function(a,b){a&1&&(_.H(0,"mat-form-field")(1,"cfc-select",0),_.P("change",function(c){c.value==="bqui-create-connection-option-value"&&(b.createConnection(),b.connectionControl.setValue(null))}),_.H(2,"mat-option",1),_.L(3,"cfc-select-rich-option",2),_.K(),_.F(4,nPf,3,4,"mat-option",3),_.V(5,"async"),
_.K(),_.H(6,"mat-label",4),_.S(7),_.K(),_.F(8,oPf,3,1,"cm-error",5),_.K());a&2&&(_.A(),_.G("cfcIamCheck",_.yg(10,rPf))("isRequired",b.isRequired),_.A(),_.G("value",b.createConnectionOptionValue),_.A(),_.G("primary",b.newConnectionPrimary)("secondary",b.newConnectionSecondary),_.A(),_.G("ngForOf",_.W(5,8,b.connections$)),_.A(3),_.rg(b.label),_.A(),_.G("cfcDebounceErrorFor","required"))},dependencies:()=>[_.ds,_.ku,_.Jw,_.lu,_.Uq,_.Sq,_.Hw,_.gv,_.Kw,_.iw,_.MB,_.rx,_.zm,_.br,_.pr,_.ev,_.Ho,_.jv,_.ww,
_.Fm,qPf],encapsulation:2});_.AU=class{};_.AU.\u0275fac=function(a){return new (a||_.AU)};_.AU.\u0275mod=_.ye({type:_.AU});_.AU.\u0275inj=_.Dc({imports:[_.js,_.mu,_.Lw,_.nw,_.OB,_.sx,_.yr,_.zw]});
}catch(e){_._DumpException(e)}
try{
var uPf,vPf,zPf;uPf=function(a,b){a&1&&(_.H(0,"mat-option",11),_.S(1),_.K());a&2&&(a=b.$implicit,b=_.Q(),_.G("value",a),_.A(),_.U(" ",a==="STORAGE_BILLING_MODEL_UNSPECIFIED"&&b.bigqueryDatasetCreationOptionalSettingsEnabled?"Default":a," "))};vPf=function(a,b){a&1&&(_.H(0,"mat-option",11),_.S(1),_.H(2,"span",12),_.S(3),_.K()());a&2&&(a=b.$implicit,b=_.Q(),_.G("value",a.value),_.A(),_.U(" ",a.displayName," "),_.A(2),_.rg(b.timeTravelWindowSelectSuffix))};
_.wPf=function(a,b,c){b=a.control({value:b,disabled:!1});c=a.control({value:c,disabled:!1});return a.group({maxTimeTravelHours:c,storageBillingModel:b})};_.xPf=function(a){let b;return(b=a.get("storageBillingModel"))==null?void 0:b.value};_.yPf=function(a){let b;return(b=a.get("maxTimeTravelHours"))==null?void 0:b.value};zPf={STORAGE_BILLING_MODEL_UNSPECIFIED:"STORAGE_BILLING_MODEL_UNSPECIFIED",LOGICAL:"LOGICAL",PHYSICAL:"PHYSICAL"};
_.APf=class{constructor(){this.maxTimeTravelHourOptions=[{displayName:"2",value:"48"},{displayName:"3",value:"72"},{displayName:"4",value:"96"},{displayName:"5",value:"120"},{displayName:"6",value:"144"},{displayName:"7",value:"168"}];this.timeTravelWindowSelectSuffix="Days";this.timeTravelWindowHelperText="Specifies the duration in days of the time travel window. Must be a value between 2 and 7. If not specified, it will be set to the project or organization default, or the system default of 7 days, as applicable.";
this.storageBillingModelHelperText="The storage used by a dataset is billed to you using logical bytes as the default unit of consumption. However, you can choose to use physical bytes for billing instead.";this.bigqueryDatasetCreationOptionalSettingsEnabled=_.vh(_.EKf)}get storageBillingModelOptions(){return Object.values(zPf)}};_.APf.\u0275fac=function(a){return new (a||_.APf)};
_.APf.\u0275cmp=_.D({type:_.APf,selectors:[["bq-storage-billing-picker"]],standalone:!1,features:[_.xg([],[_.Bw])],decls:18,vars:4,consts:()=>[" Storage Billing Model \ufffd#2\ufffd\ufffd#3\ufffd \ufffd0\ufffd \ufffd/#3\ufffd\ufffd/#2\ufffd"," Storage Billing Model "," Time Travel Window \ufffd#11\ufffd\ufffd#12\ufffd \ufffd0\ufffd \ufffd/#12\ufffd\ufffd/#11\ufffd","Time Travel Window",[1,"cfc-text-title-4"],["ariaLabel","Storage billing model helper text",1,"cfc-form-control-suffix","cfc-button-small",
"storage-billing-model-help-button"],["aria-label","storage billing model select","formControlName","storageBillingModel"],[3,"value",4,"ngFor","ngForOf"],["ariaLabel","Time travel window helper text",1,"cfc-form-control-suffix","cfc-button-small","time-travel-window-help-button"],["id","time-travel-window-label"],["aria-label","time travel window select","formControlName","maxTimeTravelHours"],[3,"value"],["matSuffix",""]],template:function(a,b){a&1&&(_.H(0,"p",4),_.Tf(1,0),_.H(2,"cfc-help-button",
5),_.L(3,"span"),_.K(),_.Uf(),_.K(),_.H(4,"mat-form-field")(5,"mat-label"),_.O(6,1),_.K(),_.H(7,"cfc-select",6),_.F(8,uPf,2,2,"mat-option",7),_.K()(),_.H(9,"p",4),_.Tf(10,2),_.H(11,"cfc-help-button",8),_.L(12,"span"),_.K(),_.Uf(),_.K(),_.H(13,"mat-form-field")(14,"mat-label",9),_.O(15,3),_.K(),_.H(16,"cfc-select",10),_.F(17,vPf,4,3,"mat-option",7),_.K()());a&2&&(_.A(3),_.Wf(b.storageBillingModelHelperText),_.Xf(1),_.A(5),_.G("ngForOf",b.storageBillingModelOptions),_.A(4),_.Wf(b.timeTravelWindowHelperText),
_.Xf(10),_.A(5),_.G("ngForOf",b.maxTimeTravelHourOptions))},dependencies:()=>[_.ds,_.ku,_.lu,_.Uq,_.Sq,_.yv,_.gv,_.uw,_.zm,_.br,_.pr,_.ev,_.Ho,_.jv],encapsulation:2,changeDetection:0});_.BPf=class{};_.BPf.\u0275fac=function(a){return new (a||_.BPf)};_.BPf.\u0275mod=_.ye({type:_.BPf});_.BPf.\u0275inj=_.Dc({imports:[_.js,_.fu,_.mu,_.vw,_.yr,_.zw]});_.CPf=new _.nn("45405669",!0);
}catch(e){_._DumpException(e)}
try{
_.DPf={type:1,path:"/bigquery/docs/partitioned-tables"};
}catch(e){_._DumpException(e)}
try{
var FPf=function(a){a=a||{};return{projectId:a.projectId||"",datasetId:a.datasetId||""}},GPf=function(a){a&1&&(_.H(0,"p",8),_.Tf(1,2),_.L(2,"a",9),_.Uf(),_.K());a&2&&(a=_.Q(),_.A(2),_.G("cfcDocLink",a.dl.CONSOLE__RESOURCE_MANAGER_DOCS_TAGS_TAGS_OVERVIEW))},HPf=function(a){if(a&1){const b=_.p();_.H(0,"cfc-message",10,0)(2,"cfc-message-text");_.S(3);_.K();_.H(4,"cfc-message-actions")(5,"button",11);_.P("click",function(){_.t(b);const c=_.Zf(1);return _.w(c.dismiss())});_.S(6," Dismiss ");_.K()()()}a&
2&&(a=_.Q(),_.A(3),_.U(" ",a.tagsErrorMessage," "))},IPf=function(a){const b=a.control({value:[],disabled:!1});return a.group({tags:b})},JPf=function(a){a&1&&_.L(0,"cfc-badge",16)},KPf=function(a,b){a&1&&(_.H(0,"mat-option",20),_.S(1),_.K());a&2&&(a=b.$implicit,_.G("value",a),_.A(),_.U(" ",a," "))},MPf=function(a){a&1&&(_.H(0,"mat-form-field")(1,"mat-label",17),_.O(2,2),_.K(),_.H(3,"cfc-select",18),_.F(4,KPf,2,2,"mat-option",19),_.V(5,"async"),_.K()());a&2&&(a=_.Q(2),_.A(3),_.G("isRequired",!0),_.A(),
_.G("ngForOf",LPf(a,_.W(5,2,a.locationIdObs))))},NPf=function(a){a&1&&(_.H(0,"cm-error",23),_.O(1,4),_.K())},PPf=function(a){a&1&&(_.H(0,"mat-form-field")(1,"mat-label"),_.O(2,3),_.K(),_.L(3,"input",21),_.F(4,NPf,2,0,"cm-error",22),_.K());a&2&&(_.A(4),_.G("cfcDebounceErrorFor",_.yg(1,OPf)))},QPf=function(a){a&1&&(_.L(0,"bq-create-table-connection-picker",24),_.V(1,"async"),_.V(2,"async"));a&2&&(a=_.Q(2),_.G("projectId",_.W(1,3,a.projectIdObs)||"")("locationId",_.W(2,5,a.locationIdObs)||"")("connectionPreset",
a.awsConnectionPreset))},RPf=function(a){a&1&&(_.H(0,"cm-error",23),_.S(1," Database name is required "),_.K())},SPf=function(a){a&1&&(_.H(0,"cm-error",23),_.O(1,6),_.K())},TPf=function(a){a&1&&(_.H(0,"cm-error",23),_.S(1),_.K());a&2&&(a=_.Q(3),_.A(),_.U(" ",a.i18n.MSG_MAX_INPUT_LENGTH_1024_ERROR," "))},UPf=function(a){a&1&&(_.H(0,"cm-error",23),_.S(1),_.K());a&2&&(a=_.Q(4),_.A(),_.U(" ",a.i18n.MSG_MAX_INPUT_LENGTH_1024_ERROR," "))},VPf=function(a){a&1&&(_.H(0,"mat-form-field")(1,"mat-label"),_.O(2,
7),_.K(),_.H(3,"cfc-help-button",28),_.S(4),_.K(),_.L(5,"input",29),_.F(6,UPf,2,1,"cm-error",22),_.K());a&2&&(a=_.Q(3),_.A(4),_.U(" ",a.i18n.MSG_SPANNER_EXTERNAL_DATASET_DATABASE_ROLE_HELP_TEXT," "),_.A(2),_.G("cfcDebounceErrorFor","maxlength"))},WPf=function(a){a&1&&(_.H(0,"div",25)(1,"mat-form-field")(2,"mat-label"),_.O(3,5),_.K(),_.H(4,"cfc-help-button",26),_.S(5),_.K(),_.L(6,"input",27),_.F(7,RPf,2,0,"cm-error",22)(8,SPf,2,0,"cm-error",22)(9,TPf,2,1,"cm-error",22),_.K(),_.F(10,VPf,7,2,"mat-form-field",
8),_.K());a&2&&(a=_.Q(2),_.A(5),_.U(" ",a.i18n.MSG_SPANNER_EXTERNAL_DATASET_DATABASE_HELP_TEXT," "),_.A(),_.G("placeholder",a.i18n.MSG_SPANNER_EXTERNAL_DATASET_DATABASE_PLACEHOLDER)("pattern",a.spannerDatabaseRegex),_.A(),_.G("cfcDebounceErrorFor","required"),_.A(),_.G("cfcDebounceErrorFor","pattern"),_.A(),_.G("cfcDebounceErrorFor","maxlength"),_.A(),_.G("ngIf",a.isCloudSpannerDatabaseRoleEnabled))},XPf=function(a){a&1&&(_.H(0,"div")(1,"p",9)(2,"span"),_.O(3,0),_.K(),_.F(4,JPf,1,0,"cfc-badge",10),
_.K(),_.H(5,"p"),_.S(6),_.V(7,"async"),_.K(),_.H(8,"div",11)(9,"mat-checkbox",12),_.O(10,1),_.K(),_.H(11,"cfc-help-button",13),_.S(12," If checked, user must select a type of external dataset to link to. The resulting BigQuery dataset will be read-only, and will contain tables defined in the provided external source. "),_.K()(),_.F(13,MPf,6,4,"mat-form-field",8)(14,PPf,5,2,"mat-form-field",8)(15,QPf,3,7,"bq-create-table-connection-picker",14)(16,WPf,11,7,"div",15),_.K());a&2&&(a=_.Q(),_.A(4),_.G("ngIf",
!a.cloudSpannerSelectorHidden),_.A(2),_.U(" The selected region supports the following external dataset types: ",LPf(a,_.W(7,6,a.locationIdObs)).join()," "),_.A(7),_.G("ngIf",!a.externalDatasetTypeSelectorHidden),_.A(),_.G("ngIf",!a.externalSourceInputHidden),_.A(),_.G("ngIf",!a.awsConnectionSelectorHidden),_.A(),_.G("ngIf",!a.cloudSpannerSelectorHidden))},YPf=function(a){const b=a.control({value:!1,disabled:!1}),c=a.control({value:"",disabled:!0},[_.Zq]),d=a.control({value:void 0,disabled:!0},[_.Zq]),
e=_.pPf(a,null);e.disable();const f=a.group({database:["",[_.Zq,_.mj(1024),_.nj(_.gAb)]],databaseRole:["",_.mj(1024)]});f.disable();b.valueChanges.subscribe(g=>{g?c.enable():(c.disable(),d.disable(),e.disable(),f.disable())});c.valueChanges.subscribe(g=>{g==="AWS Glue"?(d.enable(),e.enable(),f.disable()):g==="Cloud Spanner"?(d.disable(),e.disable(),f.enable()):(d.disable(),e.disable(),f.disable())});return a.group({isExternalDataset:b,externalDatasetType:c,externalSource:d,awsConnection:e,cloudSpanner:f})},
ZPf=function(a){a&1&&(_.H(0,"cm-error",36),_.O(1,3),_.K())},$Pf=function(a){a&1&&(_.H(0,"cm-error",36),_.O(1,4),_.K())},aQf=function(a){a&1&&(_.H(0,"cm-error",36),_.O(1,5),_.K())},bQf=function(a){a&1&&(_.H(0,"cm-error",36),_.Tf(1,6),_.L(2,"a",37),_.Uf(),_.K());a&2&&(a=_.Q(2),_.A(2),_.G("cfc-external-link",a.destinationProjectId?"//console.developers.google.com/apis/api/bigquery.googleapis.com/overview?project="+a.destinationProjectId:""),_.Wf(a.destinationProjectId),_.Xf(1))},cQf=function(a){if(a&
1){const b=_.p();_.H(0,"mat-form-field")(1,"mat-label");_.S(2);_.K();_.L(3,"input",34);_.H(4,"button",35);_.P("click",function(){_.t(b);const c=_.Q();return _.w(c.openProjectPicker())});_.S(5);_.K();_.F(6,ZPf,2,0,"cm-error",23)(7,$Pf,2,0,"cm-error",23)(8,aQf,2,0,"cm-error",23)(9,bQf,3,2,"cm-error",23);_.K()}a&2&&(a=_.Q(),_.A(2),_.rg(a.projectIdLabelText),_.A(3),_.U(" ",a.changeProjectIdButtonText," "),_.A(),_.G("cfcDebounceErrorFor","projectMissingDatasetCreatePermission"),_.A(),_.G("cfcDebounceErrorFor",
"required"),_.A(),_.G("cfcDebounceErrorFor","projectDoesNotExist"),_.A(),_.G("cfcDebounceErrorFor","projectHasBigQueryDisabled"))},dQf=function(a){a&1&&(_.H(0,"cm-error",36)(1,"mat-label"),_.O(2,7),_.K()())},eQf=function(a){a&1&&(_.H(0,"cm-error",36)(1,"mat-label"),_.O(2,8),_.K()())},fQf=function(a){a&1&&(_.H(0,"cm-error",36)(1,"mat-label"),_.O(2,9),_.K()())},gQf=function(a){a&1&&(_.H(0,"cm-error",36)(1,"mat-label"),_.O(2,10),_.K()())},hQf=function(a){a&1&&(_.H(0,"cfc-message",38)(1,"cfc-message-text"),
_.O(2,11),_.K()())},iQf=function(a){if(a&1){const b=_.p();_.H(0,"bqui-external-dataset-creation",39);_.V(1,"async");_.P("externalDatasetSelectionChange",function(c){_.t(b);_.Q().isExternalDatasetSelected$.next(c);return _.w(void 0)});_.K()}a&2&&(a=_.Q(),_.G("locationId",_.W(1,2,a.externalDatasetLocationId$))("projectId",a.destinationProjectId))},jQf=function(a){a&1&&(_.H(0,"div",40),_.O(1,12),_.K())},kQf=function(a){a&1&&(_.H(0,"div",41)(1,"mat-checkbox",42),_.S(2),_.K(),_.H(3,"cfc-help-button",43),
_.S(4),_.K()());a&2&&(a=_.Q(),_.A(2),_.U(" ",a.MSG_BQUI_ENABLE_TABLE_EXPIRATION," "),_.A(2),_.U(" ",a.MSG_BQUI_TABLE_EXPIRATION_HELP_TEXT," "))},lQf=function(a){a&1&&(_.H(0,"cm-error",36),_.O(1,15),_.K())},mQf=function(a){a&1&&(_.H(0,"cm-error",36),_.O(1,16),_.K())},nQf=function(a){a&1&&(_.H(0,"cm-error",36),_.Tf(1,17),_.L(2,"a",46),_.Uf(),_.K());a&2&&(a=_.Q(2),_.A(2),_.G("cfcDocLink",a.dl.URL__HTTPS_CONSOLE_CLOUD_GOOGLE_COM_BILLING),_.Wf(a.billingUrl),_.Xf(1))},pQf=function(a){a&1&&(_.H(0,"mat-form-field")(1,
"mat-label"),_.O(2,13),_.K(),_.L(3,"input",44),_.H(4,"span",45),_.O(5,14),_.K(),_.F(6,lQf,2,0,"cm-error",23)(7,mQf,2,0,"cm-error",23)(8,nQf,3,2,"cm-error",23),_.K());a&2&&(_.A(6),_.G("cfcDebounceErrorFor",_.yg(3,oQf)),_.A(),_.G("cfcDebounceErrorFor","overMaxValue"),_.A(),_.G("cfcDebounceErrorFor","incorrectRangeWhenBillingEnabled"))},qQf=function(a){if(a&1){const b=_.p();_.H(0,"bqui-external-dataset-creation",39);_.V(1,"async");_.P("externalDatasetSelectionChange",function(c){_.t(b);_.Q().isExternalDatasetSelected$.next(c);
return _.w(void 0)});_.K()}a&2&&(a=_.Q(),_.G("locationId",_.W(1,2,a.externalDatasetLocationId$))("projectId",a.destinationProjectId))},rQf=function(a){a&1&&_.L(0,"bq-storage-billing-picker",56)},sQf=function(a){a&1&&(_.H(0,"cfc-unfold",47)(1,"cfc-unfold-header",48)(2,"h2"),_.S(3),_.K()(),_.H(4,"cfc-unfold-hidden-content")(5,"div",49),_.L(6,"bq-kms-picker",50),_.V(7,"async"),_.K(),_.H(8,"div")(9,"div",40),_.O(10,18),_.K(),_.H(11,"div",41)(12,"mat-checkbox",51),_.S(13),_.K(),_.H(14,"cfc-help-button",
52),_.S(15),_.K()()(),_.L(16,"bq-collation-picker",53),_.H(17,"div"),_.L(18,"bq-default-rounding-mode-picker",54),_.K(),_.F(19,rQf,1,0,"bq-storage-billing-picker",55),_.K()());a&2&&(a=_.Q(),_.A(),_.G("headingLevel",2),_.A(2),_.rg(a.i18n.MSG_BQ_ADVANCED_OPTIONS),_.A(3),_.G("projectId",a.destinationProjectId)("locationId",_.W(7,11,a.kmsLocationId$))("resourceType",a.BQ_DATASET_RESOURCE_TYPE),_.A(7),_.U(" ",a.MSG_BQUI_ENABLE_CASE_INSENSITIVE," "),_.A(2),_.U(" ",a.MSG_BQUI_CASE_INSENSITIVE_HELP_TEXT,
" "),_.A(),_.G("isTable",!1),_.A(2),_.G("isTable",!1)("isUpdate",!1),_.A(),_.G("ngIf",a.isStorageBillingModelEnabled))},tQf=function(a){return isNaN(Number(a.value))?null:a.value<=106751991167?null:{overMaxValue:!0}},uQf={type:999,url:"https://console.cloud.google.com/billing"},vQf=class{};vQf.\u0275fac=function(a){return new (a||vQf)};vQf.\u0275mod=_.ye({type:vQf});vQf.\u0275inj=_.Dc({imports:[_.js,_.ms,_.pw,_.np,_.yr,_.kU,_.mU,_.zA]});
var wQf=class{constructor(){this.dl={CONSOLE__RESOURCE_MANAGER_DOCS_TAGS_TAGS_OVERVIEW:_.bJf};this.disallowDuplicateKeyReason=new _.HKf;this.tagsEditorKeysFilter=a=>a.purpose==="PURPOSE_UNSPECIFIED";this.tagsEditorManualInputFormat=1}};wQf.\u0275fac=function(a){return new (a||wQf)};
wQf.\u0275cmp=_.D({type:wQf,selectors:[["bq-resource-tags-picker"]],standalone:!1,features:[_.xg([_.Bw],[_.Bw])],decls:8,vars:6,consts:()=>[["message",""]," Tags "," Tags help you manage and enforce policies on your resources. Tags consist of a unique tag key and a set of tag values. \ufffd#2\ufffd Learn more \ufffd/#2\ufffd",[3,"headingLevel"],[1,"cfc-space-first"],["formControlName","tags",3,"disallowDuplicateKeyReason","addDisabledReason","tagKeyOptionsFilterPredicate","manualInputFormat"],["class",
"cfc-text-caption cfc-space-last",4,"tagsEditorFormStackDescription"],["type","warning",4,"ngIf"],[1,"cfc-text-caption","cfc-space-last"],["aria-label","Learn more about tags",3,"cfcDocLink"],["type","warning"],["mat-button","","type","button","color","primary",3,"click"]],template:function(a,b){a&1&&(_.H(0,"cfc-unfold")(1,"cfc-unfold-header",3)(2,"h2",4),_.O(3,1),_.K()(),_.H(4,"cfc-unfold-hidden-content")(5,"tags-editor-v2",5),_.F(6,GPf,3,1,"p",6),_.K(),_.F(7,HPf,7,1,"cfc-message",7),_.K()());a&
2&&(_.A(),_.G("headingLevel",2),_.A(4),_.G("disallowDuplicateKeyReason",b.disallowDuplicateKeyReason)("addDisabledReason",b.disableTagsEditorReason)("tagKeyOptionsFilterPredicate",b.tagsEditorKeysFilter)("manualInputFormat",b.tagsEditorManualInputFormat),_.A(2),_.G("ngIf",b.tagsErrorMessage))},dependencies:()=>[_.ds,_.ls,_.Gp,_.cs,_.Gt,_.jp,_.lp,_.kp,_.Am,_.br,_.pr,_.jU,_.lU,_.aA,_.bA,_.cA],encapsulation:2,changeDetection:0});var xQf=new _.nn("45638645");var OPf=()=>["required"],LPf=function(a,b){if(!b)return[];const c=[];b.startsWith("aws")?c.push("AWS Glue"):b.startsWith("azure")||b.startsWith("aws")||!a.cloudSpannerDatasetSupportEnabled||c.push("Cloud Spanner");return c},yQf=class{constructor(a){this.parentFormGroupName=a;this.dl={CONSOLE__SPANNER_PRICING:_.nYb};this.cloudSpannerDatasetSupportEnabled=_.vh(xQf);this.externalDatasetSelectionChange=new _.qm;this.awsConnectionPreset={aws:{}};this.i18n={MSG_SPANNER_EXTERNAL_DATASET_DATABASE_PLACEHOLDER:"projects/{project}/instances/{instance}/databases/{database}",
MSG_MAX_INPUT_LENGTH_1024_ERROR:"Must be 1024 characters or fewer",MSG_SPANNER_EXTERNAL_DATASET_DATABASE_HELP_TEXT:"You can find the database name in the Cloud Spanner page. The format of a database name is projects/{project}/instances/{instance}/databases/{database}",MSG_SPANNER_EXTERNAL_DATASET_DATABASE_ROLE_HELP_TEXT:"Database role to be assumed for all queries performed on the tables of this database. The database role should have the required privileges to access all schema objects specified in the query."};
this.spannerDatabaseRegex=_.gAb;this.isCloudSpannerDatabaseRoleEnabled=_.vh(_.lEf);this.locationIdObs=new _.We(1);this.projectIdObs=new _.We(1)}get externalDatasetTypeSelectorHidden(){return this.parentFormGroupName.control.controls.externalDatasetType.status==="DISABLED"}get externalSourceInputHidden(){return this.parentFormGroupName.control.controls.externalSource.status==="DISABLED"}get awsConnectionSelectorHidden(){return this.parentFormGroupName.control.controls.awsConnection.status==="DISABLED"}get cloudSpannerSelectorHidden(){return this.parentFormGroupName.control.controls.cloudSpanner.status===
"DISABLED"}set locationId(a){this.locationIdObs.next(a)}set projectId(a){this.projectIdObs.next(a)}ngOnInit(){this.parentFormGroupName.control.controls.isExternalDataset.valueChanges.subscribe(a=>{this.externalDatasetSelectionChange.emit(a)})}};yQf.\u0275fac=function(a){return new (a||yQf)(_.B(_.nr))};
yQf.\u0275cmp=_.D({type:yQf,selectors:[["bqui-external-dataset-creation"]],inputs:{locationId:"locationId",projectId:"projectId"},outputs:{externalDatasetSelectionChange:"externalDatasetSelectionChange"},standalone:!1,features:[_.xg([],[_.Aw])],decls:2,vars:3,consts:()=>[" External Dataset "," Link to an external dataset ","External dataset type"," External source "," An external source is required for the selected external dataset type "," Database name "," Database names must match projects/<project>/instances/<instance>/databases/<database> where project, instance and database can only contain letters, numbers, colons, dots, dashes and underscores. ",
" Database role ",[4,"ngIf"],[1,"cfc-text-title-4"],["type","preview",4,"ngIf"],[1,"cfc-form-control-wrapper"],["formControlName","isExternalDataset"],["ariaLabel","Help with link to external dataset",1,"cfc-form-control-suffix","cfc-button-small"],["formGroupName","awsConnection","label","Connection ID","newConnectionPrimary","Create a new S3 connection","newConnectionSecondary","Launches a form to create a new AWS S3 connection before continuing","fieldRequiredErrorText","Connection ID is required",
3,"projectId","locationId","connectionPreset",4,"ngIf"],["formGroupName","cloudSpanner",4,"ngIf"],["type","preview"],["id","external-dataset-type-label"],["aria-labelledby","external-dataset-type-label","formControlName","externalDatasetType","optionsAriaLabel","External dataset type",3,"isRequired"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],"matInput  required  hidden  formControlName externalSource".split(" "),["matError","",4,"cfcDebounceErrorFor"],["matError",""],["formGroupName","awsConnection",
"label","Connection ID","newConnectionPrimary","Create a new S3 connection","newConnectionSecondary","Launches a form to create a new AWS S3 connection before continuing","fieldRequiredErrorText","Connection ID is required",3,"projectId","locationId","connectionPreset"],["formGroupName","cloudSpanner"],"cfcTooltipName;bqCreateConnectionCloudSpannerDatabase;ariaLabel;Help with Database name;matSuffix;".split(";"),["matInput","","formControlName","database","required","",3,"placeholder","pattern"],
"cfcTooltipName;bqCreateConnectionCloudSpannerDatabaseRole;ariaLabel;Help with Database role;matSuffix;".split(";"),["matInput","","formControlName","databaseRole"]],template:function(a,b){a&1&&(_.F(0,XPf,17,8,"div",8),_.V(1,"async"));a&2&&(a=_.W(1,1,b.locationIdObs),b=LPf(b,a).length>0,_.G("ngIf",b))},dependencies:()=>[_.ds,_.tu,_.du,_.eu,_.bu,_.ku,_.Jw,_.lu,_.Uq,_.Sq,_.Hw,_.yv,_.qu,_.ru,_.ou,_.gv,_.tPf,_.Kw,_.MB,_.uw,_.Ho,_.zm,_.Am,_.qj,_.br,_.cr,_.qr,_.tr,_.pr,_.nr,_.jv,_.Fm],encapsulation:2,changeDetection:0});
var zQf=class{};zQf.\u0275fac=function(a){return new (a||zQf)};zQf.\u0275mod=_.ye({type:zQf});zQf.\u0275inj=_.Dc({imports:[_.js,_.tu,_.fu,_.mu,_.su,_.AU,_.Lw,_.OB,_.uw,_.Ho,_.yr,_.jv]});var AQf=new _.nn("45416630",!0);var oQf,BQf,CQf,GQf,HQf,DQf,EQf,FQf;oQf=()=>["min","integer","number","required"];BQf=function(a){return()=>_.be(500).pipe(_.Re(),_.E(()=>{const b=a.form.controls.datasetId.value||"",c=a.form.controls.projectId.value||"";return b&&c?_.rB(a.datasetsFacadeService,{projectId:c,datasetId:b}).pipe(_.y(()=>({datasetExists:!0})),_.Be(()=>_.x(null))):_.x(null)}))};
CQf=function(a){return b=>{if(!b.value)return _.x(null);const c=a.form.controls.projectId.value||"";return c?_.VC(a.billingProjectService,c).pipe(_.y(d=>d.billingAccountId&&d.billingAccountOpen||!(b.value>60)?null:{incorrectRangeWhenBillingEnabled:!0}),_.Be(()=>_.x(null))):_.x(null)}};
GQf=function(a){var b=[DQf(a),EQf(a)];a.isDatasetPermissionValidationDisabled||b.push(FQf(a));b=a.formBuilder.control("",[_.Zq],b);b.valueChanges.pipe(_.ef(a.destroyed)).subscribe(e=>{a.destinationProjectId=e;a.form&&a.form.controls.datasetId.updateValueAndValidity()});let c,d;b.setValue((d=(c=a.config)==null?void 0:c.projectId)!=null?d:_.kq(a.projectParamService));return b};HQf=function(a){a=a.form.get("datasetId");return!!a&&!!a.value&&!!a.value.length&&a.value[0]==="_"};
DQf=function(a){return b=>_.Qid(a.projectMappingService,b.value).pipe(_.y(()=>null),_.Be(()=>_.x({projectDoesNotExist:!0})))};EQf=function(a){return b=>a.serviceUsageService.isServiceEnabled(b.value,"bigquery.googleapis.com").pipe(_.y(c=>c?null:{projectHasBigQueryDisabled:!0}),_.Be(()=>_.x(null)))};
FQf=function(a){return b=>{if(!b.value)return _.x(null);const c=`${b.value}`;return a.iamActionService.testPermissions(0,[c],["bigquery.datasets.create"]).pipe(_.Re(),_.Be(()=>_.x()),_.y(d=>{let e;const f=d==null?void 0:(e=d.get)==null?void 0:e.call(d,c);let g;return!f||(f==null?0:(g=f.get)==null?0:g.call(f,"bigquery.datasets.create"))?null:{projectMissingDatasetCreatePermission:!0}}))}};
_.IQf=class{constructor(a,b,c,d,e,f,g,n,q,r,u,v){this.config=a;this.subtaskRef=b;this.projectParamService=c;this.projectMappingService=d;this.billingProjectService=e;this.datasetsFacadeService=f;this.errorService=g;this.formBuilder=n;this.iamActionService=q;this.purviewPickerService=r;this.serviceUsageService=u;this.featureVisibilityService=v;this.MSG_BQUI_DATASET_ID_HINT="Letters, numbers, and underscores allowed";this.MSG_BQUI_ENABLE_TABLE_EXPIRATION="Enable table expiration";this.MSG_BQUI_TABLE_EXPIRATION_HELP_TEXT=
"Any new table created in this dataset will be automatically deleted the specified number of days after creation. This is useful for temporary data which does not need to be preserved";this.MSG_BQUI_ENABLE_CASE_INSENSITIVE="Enable case insensitive table names";this.MSG_BQUI_CASE_INSENSITIVE_HELP_TEXT="Table names in this dataset will be case insensitive.";this.title="Create dataset";this.dataLocationHelpText="If selected, determines location where your data is stored. All tables within this dataset will share this location. This cannot be changed later.";
this.i18n={MSG_BQ_ADVANCED_OPTIONS:"Advanced options"};this.isStorageBillingModelEnabled=_.vh(_.CPf);this.isFeatureCommonLocationsEnabled=_.vh(_.ckc);this.isCloudSpannerDatasetSupportEnabled=_.vh(xQf);this.isRegionPickerEnabled=this.featureVisibilityService.isEnabled("REGION_PICKERS");this.locationFilterFunction=z=>z;this.destroyed=new _.Se;this.isDatasetPermissionValidationDisabled=_.vh(AQf);this.BQ_DATASET_RESOURCE_TYPE="bigquery.googleapis.com/Dataset";this.billingUrl=_.yi(uQf);this.dl={URL__HTTPS_CONSOLE_CLOUD_GOOGLE_COM_BILLING:uQf};
this.ve={BqSubtaskCreateDatasetPanelBody:154785,BqSubtaskCreateDatasetActionBar:154784,BqSubtaskCreateDatasetPanelFooter:154786};this.datasetIdControl=this.formBuilder.control("",[_.Zq,_.mj(1024),_.nj(_.bAb)],[BQf(this)]);this.dataLocationGroup=_.CB(this.formBuilder);if(a==null?0:a.locationRestriction)this.locationFilterFunction=z=>z.filter(C=>a.locationRestriction.toLowerCase()===C.toLowerCase()),this.dataLocationGroup.setValue(_.BB(a.locationRestriction));this.tableExpiredControl=this.formBuilder.control(!1);
this.defaultTableExpirationControl=this.formBuilder.control({value:"",disabled:!0},[_.Zq,tQf],[CQf(this)]);this.kmsKeyGroup=_.TPc(this.formBuilder);this.caseInsensitiveControl=this.formBuilder.control(!1);this.projectIdControl=GQf(this);this.defaultCollationGroup=_.vKf(this.formBuilder);this.defaultRoundingModeGroup=_.zKf(this.formBuilder);this.storageBillingGroup=_.wPf(this.formBuilder);this.resourceTagsGroup=IPf(this.formBuilder);this.externalDatasetGroup=YPf(this.formBuilder);this.form=this.formBuilder.group({datasetId:this.datasetIdControl,
dataLocation:this.dataLocationGroup,tableExpirationEnabled:this.tableExpiredControl,defaultTableExpirationDays:this.defaultTableExpirationControl,kms:this.kmsKeyGroup,caseInsensitiveEnabled:this.caseInsensitiveControl,projectId:this.projectIdControl,defaultCollation:this.defaultCollationGroup,defaultRoundingMode:this.defaultRoundingModeGroup,storageBillingModel:this.storageBillingGroup,resourceTags:this.resourceTagsGroup,externalDataset:this.externalDatasetGroup});this.tableExpiredControl.valueChanges.pipe(_.ef(this.destroyed)).subscribe(z=>
{z?this.defaultTableExpirationControl.enable():this.defaultTableExpirationControl.disable()});this.kmsLocationId$=_.Vd(_.Wd(()=>_.x(_.EB(this.dataLocationGroup))),_.Xjc(this.dataLocationGroup)).pipe(_.y(z=>{if(z!=null)return _.zjc(z)}));this.externalDatasetLocationId$=new _.We(1);this.isExternalDatasetSelected$=new _.We(1);_.Xjc(this.dataLocationGroup).subscribe(z=>{z&&this.externalDatasetLocationId$.next(z);this.externalDatasetGroup.reset()})}ngOnDestroy(){this.destroyed.next();this.destroyed.complete()}get projectIdLabelText(){return"Project ID"}get changeProjectIdButtonText(){return"Change"}get feature(){let a;
return(a=this.config)!=null&&a.feature?this.config.feature:this.isFeatureCommonLocationsEnabled?"COMMON":"CORE"}get configuredDataset(){const a={datasetReference:{projectId:this.destinationProjectId,datasetId:this.datasetIdControl.value},location:_.EB(this.dataLocationGroup)};a.isCaseInsensitive=this.caseInsensitiveControl.value;this.tableExpiredControl.value&&(a.defaultTableExpirationMs=String(Number(this.defaultTableExpirationControl.value||0)*24*60*60*1E3));var b=_.UPc(this.kmsKeyGroup);b&&(a.defaultEncryptionConfiguration=
{kmsKeyName:b});a.defaultCollation=_.wKf(this.defaultCollationGroup);a.defaultRoundingMode=_.AKf(this.defaultRoundingModeGroup);this.isStorageBillingModelEnabled&&(a.storageBillingModel=_.xPf(this.storageBillingGroup),a.maxTimeTravelHours=_.yPf(this.storageBillingGroup));a.resourceTags=this.resourceTagsGroup.getRawValue().tags.map(_.BKf);var c;a:{b=this.externalDatasetGroup;var d;if((d=b.get("isExternalDataset"))!=null&&d.value){var e;d=((e=b.get("externalDatasetType"))==null?void 0:e.value)||null;
if(d==="AWS Glue"){let q;var f=(q=b.get("externalSource"))==null?void 0:q.value,g,n=(c=b.get("awsConnection"))==null?void 0:(g=c.get("connection"))==null?void 0:g.value.name;c={externalSource:f,connection:n};break a}if(d==="Cloud Spanner"){let q,r;c=(q=b.get("cloudSpanner"))==null?void 0:(r=q.get("database"))==null?void 0:r.value;g=(f=b.get("cloudSpanner"))==null?void 0:(n=f.get("databaseRole"))==null?void 0:n.value;f="google-cloudspanner://";g&&(f+=g+"@");c={externalSource:f+("/"+c),connection:""};
break a}}c=void 0}a.externalDatasetReference=c;return _.qB(a)}onSubmit(){const a=this;return _.Kd(function*(){let b;xQf&&((b=a.externalDatasetGroup.get("isExternalDataset"))==null?0:b.value)&&(a.tableExpiredControl.reset(),a.defaultTableExpirationControl.reset(),a.defaultCollationGroup.reset(),a.defaultRoundingModeGroup.reset(),a.storageBillingGroup.reset());(yield _.EPf(a.form))&&a.datasetsFacadeService.createDataset(FPf(a.configuredDataset.datasetReference).projectId,_.lB(a.configuredDataset)).pipe(_.Re()).subscribe(c=>
{a.subtaskRef.accept(c)},c=>{a.errorService.handleError(c,"Failed to create dataset",[{errorMessage:{subject:"Failed to create dataset",body:c&&c.message||""},errorExperience:1,presentationFormat:1,matcherFn:()=>!0}])})})}openProjectPicker(){_.HDc(this.purviewPickerService,a=>{a=a.getResourceType()===0?!1:"Only projects can parent a dataset";return _.x(a)}).pipe(_.ef(this.destroyed)).subscribe(a=>{a&&this.projectIdControl.setValue(a.resource.getResourceId())})}};
_.IQf.\u0275fac=function(a){return new (a||_.IQf)(_.B(_.Zy,8),_.B(_.Yy),_.B(_.lq),_.B(_.UH),_.B(_.WC),_.B(_.sB),_.B(_.zs),_.B(_.wr),_.B(_.Ls),_.B(_.oD),_.B(_.hE),_.B(_.oE))};
_.IQf.\u0275cmp=_.D({type:_.IQf,selectors:[["create-dataset-subtask"]],hostAttrs:[1,"cfc-flex-layout-column"],standalone:!1,decls:34,vars:30,consts:()=>[" Dataset ID "," Create dataset "," Cancel ",' You must have the "bigquery.datasets.create" permission on the selected project '," Project ID is required. "," Project not found. "," The project \ufffd0\ufffd has not enabled BigQuery. Enable it \ufffd#2\ufffd\ufffd/#2\ufffd"," Dataset ID is required. "," Must contain only letters, numbers, or underscores. ",
" Must be 1024 characters or fewer. "," Dataset already exists "," Dataset IDs that begin with an underscore are hidden in the console. "," Default table expiration "," Default maximum table age "," Days "," Number of days are required and must be an integer greater or equal to zero. "," Number of days must be less than or equal to 106751991167. "," Billing has not been enabled for this project. Enable billing at \ufffd#2\ufffd\ufffd0\ufffd\ufffd/#2\ufffd The default table expiration time must be less than or equal to 60 days. ",
" Case Insensitive ",[3,"cfcTitle","ve"],[3,"ve"],["id","bqui-create-dataset-form",3,"ngSubmit","formGroup"],"matInput  formControlName datasetId instrumentationId bq-create-dataset-id-input required ".split(" "),["matError","",4,"cfcDebounceErrorFor"],["class","cfc-space-above-minus-3",4,"ngIf"],["formGroupName","dataLocation",3,"hidden","helpText","feature","filterFunction"],["formGroupName","externalDataset",3,"locationId","projectId","externalDatasetSelectionChange",4,"ngIf"],["class","cfc-text-title-4 cfc-space-above-minus-3",
4,"ngIf"],["class","cfc-form-control-wrapper",4,"ngIf"],[4,"ngIf"],["formGroupName","resourceTags"],["id","advanced-options",4,"ngIf"],"mat-raised-button  color primary type submit cfcFormSubmit bqui-create-dataset-form instrumentationId bq-create-dataset-form-button".split(" "),["mat-button","","type","button",3,"click"],"matInput  formControlName projectId instrumentationId bq-create-project-id-input readonly ".split(" "),["type","button","mat-button","","color","primary","matSuffix","",3,"click"],
["matError",""],["linkText","here.",3,"cfc-external-link"],[1,"cfc-space-above-minus-3"],["formGroupName","externalDataset",3,"externalDatasetSelectionChange","locationId","projectId"],[1,"cfc-text-title-4","cfc-space-above-minus-3"],[1,"cfc-form-control-wrapper"],["formControlName","tableExpirationEnabled"],[1,"cfc-form-control-suffix","cfc-button-small"],"matInput  cfcNumberInput  isInteger  required  min 0 formControlName defaultTableExpirationDays".split(" "),["matSuffix",""],[3,"cfcDocLink"],
["id","advanced-options"],[3,"headingLevel"],["formGroupName","kms"],["serviceName","bigquery.googleapis.com",3,"projectId","locationId","resourceType"],["formControlName","caseInsensitiveEnabled"],["ariaLabel","Help with enable case insensitive",1,"cfc-form-control-suffix","cfc-button-small"],["formGroupName","defaultCollation",3,"isTable"],["formGroupName","defaultRoundingMode",3,"isTable","isUpdate"],["formGroupName","storageBillingModel",4,"ngIf"],["formGroupName","storageBillingModel"]],template:function(a,
b){a&1&&(_.L(0,"cfc-action-bar",19),_.H(1,"cfc-panel-body",20)(2,"form",21),_.P("ngSubmit",function(){return b.onSubmit()}),_.L(3,"cfc-form-submission-error"),_.F(4,cQf,10,6,"mat-form-field"),_.H(5,"mat-form-field")(6,"mat-label"),_.O(7,0),_.K(),_.L(8,"input",22),_.H(9,"mat-hint"),_.S(10),_.K(),_.F(11,dQf,3,0,"cm-error",23)(12,eQf,3,0,"cm-error",23)(13,fQf,3,0,"cm-error",23)(14,gQf,3,0,"cm-error",23),_.K(),_.F(15,hQf,3,0,"cfc-message",24),_.L(16,"bq-data-location-picker",25),_.F(17,iQf,2,4,"bqui-external-dataset-creation",
26)(18,jQf,2,0,"div",27),_.V(19,"async"),_.F(20,kQf,5,2,"div",28),_.V(21,"async"),_.F(22,pQf,9,4,"mat-form-field",29),_.V(23,"async"),_.F(24,qQf,2,4,"bqui-external-dataset-creation",26),_.H(25,"div"),_.L(26,"bq-resource-tags-picker",30),_.K(),_.F(27,sQf,20,13,"cfc-unfold",31),_.V(28,"async"),_.K()(),_.H(29,"cfc-panel-footer",20)(30,"button",32),_.O(31,1),_.K(),_.H(32,"button",33),_.P("click",function(){return b.subtaskRef.cancel()}),_.O(33,2),_.K()());a&2&&(_.G("cfcTitle",b.title)("ve",b.ve.BqSubtaskCreateDatasetActionBar),
_.A(),_.G("ve",b.ve.BqSubtaskCreateDatasetPanelBody),_.A(),_.G("formGroup",b.form),_.A(2),_.Lf((b.config==null?0:b.config.hideChangeProjectIdButton)?-1:4),_.A(6),_.U(" ",b.MSG_BQUI_DATASET_ID_HINT," "),_.A(),_.G("cfcDebounceErrorFor","required"),_.A(),_.G("cfcDebounceErrorFor","pattern"),_.A(),_.G("cfcDebounceErrorFor","maxlength"),_.A(),_.G("cfcDebounceErrorFor","datasetExists"),_.A(),_.G("ngIf",HQf(b)),_.A(),_.G("hidden",!b.isRegionPickerEnabled)("helpText",b.dataLocationHelpText)("feature",b.feature)("filterFunction",
b.locationFilterFunction),_.A(),_.G("ngIf",b.isCloudSpannerDatasetSupportEnabled),_.A(),_.G("ngIf",!_.W(19,22,b.isExternalDatasetSelected$)||!b.isCloudSpannerDatasetSupportEnabled),_.A(2),_.G("ngIf",!_.W(21,24,b.isExternalDatasetSelected$)||!b.isCloudSpannerDatasetSupportEnabled),_.A(2),_.G("ngIf",!_.W(23,26,b.isExternalDatasetSelected$)||!b.isCloudSpannerDatasetSupportEnabled),_.A(2),_.G("ngIf",!b.isCloudSpannerDatasetSupportEnabled),_.A(3),_.G("ngIf",!_.W(28,28,b.isExternalDatasetSelected$)||!b.isCloudSpannerDatasetSupportEnabled),
_.A(2),_.G("ve",b.ve.BqSubtaskCreateDatasetPanelFooter))},dependencies:()=>[_.mp,_.ty,_.Ry,_.ds,_.hs,_.ls,_.Gp,_.cs,_.du,_.eu,_.bu,_.ku,_.Jw,_.lu,_.Uq,_.Sq,_.Rq,_.Hw,_.yv,_.qu,_.ru,_.ou,_.CKf,_.FB,_.Kw,_.FKf,_.Gt,yQf,_.jx,_.ny,_.uS,_.LB,_.NB,_.uw,_.zT,_.RE,_.jp,_.kp,_.Am,_.bT,_.jr,_.qj,_.br,_.cr,_.qr,_.mr,_.pr,_.nr,wQf,_.APf,_.aA,_.bA,_.cA,_.Fm],encapsulation:2,changeDetection:0});_.BU=class{};_.BU.\u0275fac=function(a){return new (a||_.BU)};_.BU.\u0275mod=_.ye({type:_.BU,id:"pm_bigquery_create_dataset_subtask"});
_.BU.\u0275inj=_.Dc({providers:[{provide:_.cn,useValue:{CreateDatasetSubtask:_.IQf,SubtaskService:_.az}}],imports:[_.pD,_.tD,_.Ry,_.js,_.ms,_.fu,_.mu,_.su,_.DKf,_.GB,_.Lw,_.GKf,_.Gt,zQf,_.jx,_.oy,_.vS,_.OB,_.uw,_.AT,_.SE,_.jp,_.kp,_.cT,_.mp,_.ty,_.yr,vQf,_.BPf,_.aA,_.bA,_.cA]});_.jf(_.BU,"pm_bigquery_create_dataset_subtask");
}catch(e){_._DumpException(e)}
try{
_.qh("pm_bigquery_create_dataset_subtask");

_.sh();
}catch(e){_._DumpException(e)}
}).call(this,this.default_r_tvffkgi);
// Google Inc.
